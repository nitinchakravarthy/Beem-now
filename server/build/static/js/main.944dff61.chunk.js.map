{"version":3,"sources":["background_large.jpg","background_small.jpg","icons/home.svg","icons/profile.svg","icons/ridepost.svg","icons/history.svg","icons/message.svg","icons/signout.svg","404.png","background_medium.jpg","logo.png","background.jpg","components/Landing.js","components/SignIn.js","components/SignUp.js","components/resendTokenPage.js","components/SideDrawer.js","components/PostRide.js","components/SearchRide.js","components/DepartureRidesPage.js","components/ReturnRidesPage.js","components/RideSummary.js","components/FriendList.js","components/Dashboard.js","components/RideHistoryList.js","components/RideHistoryPage.js","components/rideConfirmedPage.js","components/Home.js","components/ForgotPassword.js","components/ResetPassword.js","components/ErrorNotFound.js","components/AccountVerifiedPage.js","components/changepassword.js","components/TermsOfService.js","components/confirmRideEmail.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","useStyles","makeStyles","theme","root","position","bottom","spacing","right","menuButton","marginRight","title","flexGrow","desktopImage","marginTop","backgroundImage","BgImageLarge","backgroundRepeat","backgroundPosition","backgroundSize","height","mobileImage","BgImageSmall","marginText","float","alignText","fontFamily","top","Landing","props","classes","useState","directToSignIn","setDirectToSignIn","localStorage","getItem","isAuthenticated","console","log","isDesktop","window","innerWidth","to","Fragment","CssBaseline","AppBar","Toolbar","Typography","variant","className","Button","color","onClick","event","style","fontSize","textAlign","Container","Copyright","align","Link","href","Date","getFullYear","toast","configure","autoClose","draggable","hideProgressBar","body","backgroundColor","palette","common","white","paper","display","flexDirection","alignItems","logo","marginBottom","form","width","submit","margin","SignIn","setIsAuthenticated","location","state","accountCreated","signUpSucess","useEffect","mailSent","toastString","email","notify","component","maxWidth","src","CompanyLogo","onSubmit","preventDefault","data","FormData","target","get","password","fetch","method","headers","Accept","JSON","stringify","then","response","json","error_code","user","setItem","_id","first_name","last_name","msg","catch","error","noValidate","TextField","required","fullWidth","id","label","name","autoComplete","autoFocus","type","Grid","container","item","xs","genderCategories","value","avatar","secondary","main","SignUp","setAccountCreated","setSignUpSuccess","setPassword","fNameError","setFNameError","lNameError","setLNameError","genderError","setGenderError","emailError","setEmailError","passwordError","setPasswordError","agreementError","setAgreementError","confirmPasswordError","setConfirmPasswordError","agreeToTermsOfUse","setAgreeToTermsOfUse","setEmail","handleInputChange","pathname","success","handleEmptySubmission","gender","resp","sm","helperText","onChange","select","SelectProps","MenuProps","menu","map","option","MenuItem","key","test","pass","FormControlLabel","control","Checkbox","underline","justify","Box","mt","centerAlign","ResendTokenPage","appBar","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","easeOut","enteringScreen","hide","drawer","flexShrink","drawerPaper","drawerHeader","padding","justifyContent","drawerFooter","left","content","contentShift","inline","ListItemLink","ListItem","button","Home","useTheme","React","open","setOpen","driverRides","setDriverRides","passengerRides","setPassengerRides","isRideHistoryClicked","setIsRideHistoryClicked","redirect","handleDrawerClose","clsx","IconButton","aria-label","edge","noWrap","Drawer","anchor","direction","Divider","List","ListItemIcon","Icon","homeIcon","ListItemText","primary","profileIcon","ridePostIcon","params","user_id","obj_d","obj_p","parse","driver_rides","passenger_rides","ex","historyIcon","messageIcon","clear","signOutIcon","fontStyle","m","PostRide","selectedDate","handleDateChange","selectedDateReturn","handleDateChangeReturn","selectedTime","handleTimeChange","selectedTimeReturn","handleTimeChangeReturn","originCityError","setOriginCityError","destinationCityError","setDestinationCityError","amountError","setAmountError","maxCapacityError","setmaxCapacityError","isChecked","setIsChecked","isNaN","parseInt","uid","originCity","destinationCity","pricePerSeat","departDate","roundTrip","maxCapacity","occupiedCapacity","departTime","timeZone","Intl","DateTimeFormat","resolvedOptions","rideStatus","InputProps","startAdornment","InputAdornment","inputProps","min","max","utils","DateFnsUtils","clearable","disablePast","inputVariant","date","minDate","format","ampm","Switch","checked","prev","labelPlacement","disabled","minDateMessage","formControl","minWidth","selectEmpty","monthNames","SearchRide","dateArray","setDateArray","departureRides","setDepartureRides","setOriginCity","setDestinationCity","setRoundTrip","seats","setSeats","useRef","departure_rides","dates","returnDate","selectedDepartTime","startDate","stopDate","getTime","days","Array","currentDate","t_date","actualDate","String","getMonth","getDate","getYear","push","addDays","getDates","obj_r","return_rides","setReturnRides","FormControl","InputLabel","Select","labelId","prototype","this","valueOf","setDate","TabPanel","children","index","other","role","hidden","aria-labelledby","p","background","card","boxShadow","borderRadius","avatarBlock","pink","headingTheme","createMuiTheme","typography","h5","fontWeight","DepartureRidesPage","returnRides","selectedReturnDate","returnDateArray","setReturnDateArray","isClicked","setIsClicked","selectedDepartRide","setSelectedDepartRide","length","setValue","handleSelect","obj","ThemeProvider","Tabs","newValue","indicatorColor","textColor","scrollButtons","Tab","a11yProps","selectedReturnRide","ListItemAvatar","Avatar","alt","host","time","split","meridian","formatDepartureDate","ReturnRidesPage","departId","returnId","setSelectedReturnRide","mainContainer","priceTag","paddingRight","chatButton","RideSummary","departureRide","returnRide","departSuccess","setdepartSuccess","returnSuccess","setReturnSuccess","setRidesRequested","totalCost","parseFloat","handleRoundTrip","chooseRidePost","handleDepartResponse","handleReturnResponse","handleSingleRide","rid","successCallback","md","flex","alignItem","chatBox","dot","chat","borderBottom","FriendList","users","setChatUsers","dateInMillis","hours","getHours","minutes","getMinutes","strTime","a","async","now","chatList","divider","friendId","whiteSpace","msgs","from","message","socket","io","Dashboard","initialChat","toAdd","otherPersonId","forEach","arrayItem","newDiv","document","createElement","setAttribute","innerHTML","newSpan","border","append","getElementById","on","emit","userName","getInitialChatAndRegisterUser","textValue","changeTextValue","Paper","e","timeInMillisInteger","sender","textTime","handleChatSubmit","messageTime","submitOnSocket","saveChat","toString","AlignItemsList","rides","FullWidthTabs","dir","RideConfirmed","exact","path","DepartTrip","ReturnTrip","RideHistory","ForgotPassword","ResetPassword","resetSuccess","setResetSuccess","match","token","newPassword","newPasswordConf","NotFound","NotFoundImage","AccountVerified","verificationText","setVerificationText","verified","setVerified","ChangePassword","passwordChanged","setPasswordChanged","passwordUpdated","TermsOfService","ColorButtonAccept","withStyles","getContrastText","green","ColorButtonReject","red","media","paddingTop","expand","transform","shortest","expandOpen","RecipeReviewCard","start","dest","Card","CardHeader","CardContent","CardActions","disableSpacing","alignContent","size","App","app","ConfirmRideEmail","ErrorNotFound","Boolean","hostname","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.944dff61.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/background_large.9c234bd0.jpg\";","module.exports = __webpack_public_path__ + \"static/media/background_small.e0b5af09.jpg\";","module.exports = __webpack_public_path__ + \"static/media/home.2a10aed3.svg\";","module.exports = __webpack_public_path__ + \"static/media/profile.63698463.svg\";","module.exports = __webpack_public_path__ + \"static/media/ridepost.b10129fd.svg\";","module.exports = __webpack_public_path__ + \"static/media/history.5ea1f63b.svg\";","module.exports = __webpack_public_path__ + \"static/media/message.bd3b3a49.svg\";","module.exports = __webpack_public_path__ + \"static/media/signout.4f8b303c.svg\";","module.exports = __webpack_public_path__ + \"static/media/404.d79c25ab.png\";","module.exports = __webpack_public_path__ + \"static/media/background_medium.f960915a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/logo.8ebd8ad5.png\";","module.exports = __webpack_public_path__ + \"static/media/background.65091e7f.jpg\";","import React, { useState,useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport useScrollTrigger from '@material-ui/core/useScrollTrigger';\r\nimport Box from '@material-ui/core/Box';\r\nimport Container from '@material-ui/core/Container';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\r\nimport Zoom from '@material-ui/core/Zoom';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport BgImageLarge from '../background_large.jpg';\r\nimport BgImageMedium from '../background_medium.jpg';\r\nimport BgImageSmall from '../background_small.jpg';\r\nimport Link from '@material-ui/core/Link';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    position: 'fixed',\r\n    bottom: theme.spacing(2),\r\n    right: theme.spacing(2),\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  desktopImage: {\r\n    marginTop: theme.spacing(6),\r\n    backgroundImage: `url(${BgImageLarge})`,\r\n    backgroundRepeat: \"no-repeat\",\r\n    backgroundPosition: \"center center\",\r\n    backgroundSize: \"cover\",\r\n    height: \"450px\"\r\n  },\r\n  mobileImage: {\r\n    marginTop: theme.spacing(6),\r\n    backgroundImage: `url(${BgImageSmall})`,\r\n    backgroundRepeat: \"no-repeat\",\r\n    backgroundPosition: \"center center\",\r\n    backgroundSize: \"cover\",\r\n    height: \"118px\"\r\n  },\r\n  marginText: {\r\n    float: 'right',\r\n    alignText: 'center',\r\n    height: '100%',\r\n    marginRight: '5%',\r\n    //fontSize: 30,\r\n    fontFamily: 'Quicksand',\r\n    right: 0,\r\n    top: 0,\r\n    // background: 'green'\r\n  }\r\n}));\r\n\r\nfunction ScrollTop(props) {\r\n  const { children, window } = props;\r\n  const classes = useStyles();\r\n  // Note that you normally won't need to set the window ref as useScrollTrigger\r\n  // will default to window.\r\n  // This is only being set here because the demo is in an iframe.\r\n  const trigger = useScrollTrigger({\r\n    target: window ? window() : undefined,\r\n    disableHysteresis: true,\r\n    threshold: 100,\r\n  });\r\n\r\n  const handleClick = event => {\r\n    const anchor = (event.target.ownerDocument || document).querySelector('#back-to-top-anchor');\r\n\r\n    if (anchor) {\r\n      anchor.scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n    }\r\n  };\r\n\r\n  return (\r\n\r\n    <Zoom in={trigger}>\r\n      <div onClick={handleClick} role=\"presentation\" className={classes.root}>\r\n        {children}\r\n      </div>\r\n    </Zoom>\r\n  );\r\n}\r\n\r\nScrollTop.propTypes = {\r\n  children: PropTypes.element.isRequired,\r\n  window: PropTypes.func,\r\n};\r\n\r\nexport default function Landing(props) {\r\n  const classes = useStyles();\r\n  const [directToSignIn, setDirectToSignIn] = useState(false);\r\n  const [isAuthenticated, setIsAuthenticated] = useState(!(localStorage.getItem('uid') === null));\r\n  \r\n  console.log(localStorage.getItem('uid'))\r\n  //const [isDesktop, setIsDesktop] = useState(false);\r\n  var isDesktop = window.innerWidth > 1000 ? true : false;\r\n  const sendToSignIn = event => {\r\n    setDirectToSignIn(true)\r\n  }\r\n  return (\r\n      <div>\r\n    {isAuthenticated ? <Redirect to=\"/home\"/> : null}\r\n    <React.Fragment>\r\n      {directToSignIn ? <Redirect to=\"/signin\"/> : null}\r\n      <CssBaseline />\r\n      <AppBar>\r\n        <Toolbar>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              Beem Now\r\n            </Typography>\r\n            <Button color=\"inherit\" onClick = {sendToSignIn}>Sign in</Button>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <div className = {isDesktop? classes.desktopImage : classes.mobileImage}>\r\n        <div className = {classes.marginText}>\r\n          <p style = {{marginTop: isDesktop? '100%': '50%', fontSize: isDesktop? 30: 12}}>\r\n            <br/>Rides,\r\n            <br/>For the students,\r\n            <br/>By the students.\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <Typography style = {{marginTop: '2%' ,textAlign: 'center', fontSize: 30, fontFamily: 'Quicksand'}}>\r\n          Rides made easy and profitable !\r\n      </Typography>\r\n\r\n      <Container>\r\n            <p> Need to be somewhere? Beem-Now has got you covered ! With our app, now search for rides offered by\r\n            fellow students going to same destination. This service is exclusively for students. Our platform\r\n            ensures value for money rides. Some descriptive text. Some descriptive text. Some descriptive text.\r\n            Some descriptive text. Some descriptive text. Some descriptive text. Some descriptive text. Some descriptive text.\r\n            Some descriptive text. Some descriptive text. Some descriptive text. Some descriptive text. Some descriptive text. Some descriptive text.\r\n            Some descriptive text. Some descriptive text.</p>\r\n            <p> Heading out somewhere? With our platform make extra money on the side by giving ride to a fellow student,\r\n            delivering small items or packages to or from those locations. Just post your travel details and number of\r\n            people/packages you can take with you. User searching for a ride or item delivery to your destination\r\n            will get in touch with you. Some descriptive text. Some descriptive text. Some descriptive text. Some descriptive text.\r\n            Some descriptive text. Some descriptive text. Some descriptive text. Some descriptive text. Some descriptive text. Some descriptive text.\r\n            Some descriptive text. Some descriptive text.</p>\r\n      </Container>\r\n\r\n    </React.Fragment>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport CompanyLogo from '../logo.png'\r\nimport BgImage from '../background.jpg'\r\n\r\ntoast.configure({\r\n  autoClose: 8000,\r\n  draggable: false,\r\n  hideProgressBar :true,\r\n  //etc you get the idea\r\n});\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"/\">\r\n        Beem Now\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  '@global': {\r\n    body: {\r\n      backgroundColor: theme.palette.common.white,\r\n      // backgroundImage: `url(${BgImage})`,\r\n      // backgroundRepeat: \"no-repeat\",\r\n      // backgroundPosition: \"center center\",\r\n      // backgroundSize: \"cover\",\r\n      // height: \"100%\"\r\n    },\r\n  },\r\n  paper: {\r\n    backgroundColor: theme.palette.common.white,\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  logo: {\r\n    textAlign: 'center',\r\n    marginBottom: theme.spacing(3)\r\n  },\r\n  form: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function SignIn(props) {\r\n  const classes = useStyles();\r\n  const [isAuthenticated, setIsAuthenticated] = useState(!(localStorage.getItem('uid') === null));\r\n  const [isAccountCreated,setIsAccountCreated] = useState(props.location.state ? props.location.state.accountCreated : false);\r\n  const [signUpSucess,setSignUpSuccess] = useState(props.location.state? props.location.state.signUpSucess : \"\");\r\n  const handleSubmit = (event) => {\r\n      event.preventDefault();\r\n      const data = new FormData(event.target)\r\n      const body = {\r\n          email : data.get('email'),\r\n          password: data.get('password'),\r\n      }\r\n      fetch('/users/login', {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(body),\r\n      }).then(response => response.json())\r\n      .then((data) => {\r\n         console.log(data);\r\n         if(data.error_code == 0){\r\n             //save the user object in the\r\n             console.log(data.user);\r\n             localStorage.setItem('user',data.user);\r\n             localStorage.setItem('uid', data.user._id);\r\n             localStorage.setItem('first_name', data.user.first_name);\r\n             localStorage.setItem('last_name', data.user.last_name);\r\n             setIsAuthenticated(true);\r\n         }else{\r\n             notify(data.msg)\r\n         }\r\n     }).catch((error) => {\r\n         console.log(error);\r\n         notify(error.msg)\r\n     });\r\n\r\n  }\r\n\r\n  useEffect(() => {\r\n      console.log(\"log in notify\");\r\n      console.log(signUpSucess);\r\n      if (signUpSucess.mailSent) {\r\n          const toastString = \"A confirmation email has been sent to \" + signUpSucess.email + \". Please confirm before you login.\"\r\n          notify(toastString);\r\n      }\r\n  }, []);\r\n\r\n  const notify = (toastString) => {\r\n      toast(toastString);\r\n    };\r\n\r\n  return (\r\n    <div>\r\n    {isAuthenticated ? <Redirect to=\"/home\"/> : null}\r\n    <ToastContainer />\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <div className={classes.logo}>\r\n          <img src = {CompanyLogo} />\r\n        </div>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign in\r\n        </Typography>\r\n        <form className={classes.form} onSubmit={handleSubmit} noValidate>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"email\"\r\n            label=\"Email Address\"\r\n            name=\"email\"\r\n            autoComplete=\"email\"\r\n            autoFocus\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            autoComplete=\"current-password\"\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            backgroundColor = '#62c9f2'\r\n            className={classes.submit}\r\n          >\r\n            Sign In\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item xs>\r\n              <Link href=\"/forgotpassword\" variant=\"body2\">\r\n                Forgot password?\r\n              </Link>\r\n            </Grid>\r\n            <Grid item>\r\n              <Link href=\"/signup\" variant=\"body2\">\r\n                {\"Don't have an account? Sign Up\"}\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n      <div style = {{marginTop: '10%', marginBottom: '10%'}}>\r\n        <Copyright />\r\n      </div>\r\n    </Container>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Select from '@material-ui/core/Select';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport { Redirect } from 'react-router-dom';\r\nimport CompanyLogo from '../logo.png'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"/\">\r\n        Beem Now\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst genderCategories = [\r\n  {\r\n    value: 'Male',\r\n    label: 'Male',\r\n  },\r\n  {\r\n    value: 'Female',\r\n    label: 'Female',\r\n  },\r\n  {\r\n    value: 'Other',\r\n    label: 'Prefer not to disclose',\r\n  },\r\n];\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  '@global': {\r\n    body: {\r\n      backgroundColor: theme.palette.common.white,\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  logo: {\r\n    textAlign: 'center',\r\n    marginBottom: theme.spacing(1)\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function SignUp() {\r\n  const classes = useStyles();\r\n  const [accountCreated, setAccountCreated] = useState(false);\r\n  const [signUpSucess, setSignUpSuccess] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [fNameError, setFNameError] = useState('');\r\n  const [lNameError, setLNameError] = useState('');\r\n  const [genderError, setGenderError] = useState('');\r\n  const [emailError, setEmailError] = useState('');\r\n  const [passwordError, setPasswordError] = useState('');\r\n  const [agreementError, setAgreementError] = useState('');\r\n  const [confirmPasswordError, setConfirmPasswordError] = useState('');\r\n  const [agreeToTermsOfUse, setAgreeToTermsOfUse] = useState(false);\r\n  const [email,setEmail] = useState('');\r\n  const validateEmailAddress = (event) =>{\r\n      console.log(\"password\")\r\n      let name = event.target.name\r\n      let value = event.target.value\r\n      if(event.target.value === ''){\r\n          setEmailError('University Email Required')\r\n      }\r\n      else{\r\n          var email = event.target.value;\r\n          var reg = /^[a-zA-Z0-9/_/g\\.]+@tamu\\.edu$/;\r\n          var test = reg.test(email);\r\n          if (test) {\r\n              setEmailError('')\r\n          } else{\r\n              setEmailError('Please enter a valid tamu email.')\r\n          }\r\n      }\r\n  }\r\n  const validatePassword = (event) => {\r\n      let name = event.target.name\r\n      let value = event.target.value\r\n      setPassword(value)\r\n      if(event.target.value === ''){\r\n          setPasswordError('Password Required')\r\n      }\r\n      else{\r\n          var pass = event.target.value;\r\n          var reg = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d@$!%*#?&]{8,32}$/;\r\n          var test = reg.test(pass);\r\n          if (test) {\r\n              setPasswordError('')\r\n          } else{\r\n              setPasswordError('Password shoud contain a digit,small letter,capital letter and must be between 8 to 32 characters')\r\n          }\r\n      }\r\n  }\r\n  const validatePasswordComfirmation = (event) => {\r\n      let name = event.target.name\r\n      let value = event.target.value\r\n      var pass = event.target.value\r\n      if (pass === password) {\r\n          setConfirmPasswordError('')\r\n      } else{\r\n          setConfirmPasswordError('Passwords do not match')\r\n      }\r\n  }\r\n  const handleInputChange = event => {\r\n    let name = event.target.name\r\n    let value = event.target.value\r\n    if(name === 'firstName'){\r\n      if (value === '') {\r\n          setFNameError('First Name is required')\r\n      } else{\r\n          setFNameError('')\r\n      }\r\n    } else if(name === 'lastName'){\r\n      if (value === '') {\r\n          setLNameError('Last Name is required')\r\n      } else{\r\n          setLNameError('')\r\n      }\r\n    } else if(name === 'gender'){\r\n      if (value === '') {\r\n          setGenderError('Please make a selection')\r\n      } else{\r\n          setGenderError('')\r\n      }\r\n    }\r\n  }\r\n  const handleCheckBoxInputs = event => {\r\n      let name = event.target.name\r\n      if(name === 'agreeToTermsOfUse'){\r\n        let currentVal = agreeToTermsOfUse\r\n        setAgreeToTermsOfUse(!currentVal)\r\n        setAgreementError('')\r\n      }\r\n  }\r\n  const handleEmptySubmission = data => {\r\n    var success = true\r\n      if(data.get('firstName') === ''){\r\n        setFNameError('First name is required')\r\n        success = false\r\n      }\r\n      if(data.get('lastName') === ''){\r\n        setLNameError('Last name is required')\r\n        success = false\r\n      }\r\n      if(data.get('gender') === ''){\r\n        setGenderError('Please make a selection')\r\n        success = false\r\n      }\r\n      if (emailError !== '') {\r\n        success = false\r\n      }\r\n      if(data.get('email') === ''){\r\n        setEmailError('University email is required')\r\n        success = false\r\n      }\r\n      if(data.get('password') === ''){\r\n        setPasswordError('Password is required')\r\n        success = false\r\n      }\r\n      if(data.get('confirmPassword') !== data.get('password')){\r\n        setConfirmPasswordError('Passwords do not match')\r\n        success = false\r\n      }\r\n      if(!agreeToTermsOfUse){\r\n        setAgreementError('You must agree to our terms of service.')\r\n        success = false\r\n      }\r\n      return success\r\n  }\r\n\r\n  const notify = (toastString) => {\r\n      toast(toastString);\r\n    };\r\n\r\n  const handleSubmit = (event) => {\r\n      event.preventDefault();\r\n      const data = new FormData(event.target);\r\n      const success = handleEmptySubmission(data);\r\n      if(success){\r\n          const body = {\r\n              first_name : data.get('firstName'),\r\n              last_name : data.get('lastName'),\r\n              email : data.get('email'),\r\n              password: data.get('password'),\r\n              gender: data.get('gender')\r\n          }\r\n          //console.log(body);\r\n          fetch('/users/signup', {\r\n            method: 'POST',\r\n            headers: {\r\n                Accept: 'application/json',\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify(body),\r\n          }).then(response => response.json())\r\n          .then((resp) => {\r\n              if(resp.error_code == 0){\r\n                  console.log(resp);\r\n                  console.log(resp.email);\r\n                  setEmail(resp.email);\r\n                  setSignUpSuccess(resp);\r\n                  setAccountCreated(true);\r\n              }else{\r\n                  notify(resp.msg)\r\n              }\r\n\r\n         }).catch( (error) => {\r\n            notify(\"unable to create a new account. Please try again later.\");\r\n             console.log(error);\r\n         });\r\n      }\r\n  }\r\n  return (\r\n      <div>\r\n      {accountCreated ? <Redirect to={{ pathname : \"/resendToken\",\r\n                                    state : {accountCreated :{accountCreated},\r\n                                            signUpSucess: {signUpSucess},\r\n                                            email: {email}\r\n                                    }\r\n        }} />: null }\r\n    <ToastContainer />\r\n     <Container component=\"main\" maxWidth=\"xs\">\r\n        <CssBaseline />\r\n        <div className={classes.paper}>\r\n          <div className={classes.logo}>\r\n            <img src = {CompanyLogo} />\r\n          </div>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Sign up\r\n          </Typography>\r\n          <form className={classes.form}  onSubmit={handleSubmit} noValidate>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12} sm={6}>\r\n                <TextField\r\n                  autoComplete=\"fname\"\r\n                  error = {fNameError !== ''}\r\n                  name=\"firstName\"\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"firstName\"\r\n                  label=\"First Name\"\r\n                  helperText = {fNameError}\r\n                  autoFocus\r\n                  onChange = {handleInputChange}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} sm={6}>\r\n                <TextField\r\n                  error = {lNameError !== ''}\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"lastName\"\r\n                  label=\"Last Name\"\r\n                  name=\"lastName\"\r\n                  helperText = {lNameError}\r\n                  autoComplete=\"lname\"\r\n                  onChange = {handleInputChange}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  error = {genderError !== ''}\r\n                  onChange = {handleInputChange}\r\n                  select\r\n                  required\r\n                  fullWidth\r\n                  id=\"gender\"\r\n                  label=\"Gender\"\r\n                  name=\"gender\"\r\n                  autoComplete=\"email\"\r\n                  helperText = {genderError}\r\n                  SelectProps={{\r\n                    MenuProps: {\r\n                      className: classes.menu,\r\n                    },\r\n                  }}\r\n                >\r\n                {genderCategories.map(option => (\r\n                    <MenuItem key={option.value} value={option.value}>\r\n                      {option.label}\r\n                    </MenuItem>\r\n                ))}\r\n                </TextField>\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  error={emailError !== ''}\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"email\"\r\n                  label=\"University Email\"\r\n                  name=\"email\"\r\n                  autoComplete=\"email\"\r\n                  helperText = {emailError}\r\n                  onChange = {validateEmailAddress}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  error={passwordError !== ''}\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  name=\"password\"\r\n                  label=\"Password\"\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  autoComplete=\"current-password\"\r\n                  helperText = {passwordError}\r\n                  onChange = {validatePassword}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  error = {confirmPasswordError !== ''}\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  name=\"confirmPassword\"\r\n                  label=\"Confirm Password\"\r\n                  type=\"password\"\r\n                  id=\"confirm-password\"\r\n                  autoComplete=\"confirm-password\"\r\n                  helperText = {confirmPasswordError}\r\n                  onChange = {validatePasswordComfirmation}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <FormControlLabel style = {{marginRight: '5px'}}\r\n                  control={<Checkbox name = \"agreeToTermsOfUse\" color=\"primary\" onChange = {handleCheckBoxInputs}/>}\r\n                  label=\"I have read and agree to the \"\r\n                />\r\n                <Link href=\"/termsofservice\" variant=\"body1\" underline='always' target=\"_blank\">Terms of service</Link>*\r\n                <Typography variant = \"body2\" color = \"error\">{agreementError}</Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n            >\r\n              Sign Up\r\n            </Button>\r\n            <Grid container justify=\"flex-end\">\r\n              <Grid item >\r\n                  <Link href=\"/signin\" variant=\"body2\">\r\n                    {\"Sign in\"}\r\n                  </Link>\r\n              </Grid>\r\n            </Grid>\r\n          </form>\r\n        </div>\r\n        <Box mt={5}>\r\n          <Copyright />\r\n        </Box>\r\n      </Container>\r\n     </div>\r\n );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport CompanyLogo from '../logo.png';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"/\">\r\n        Beem Now\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  '@global': {\r\n    body: {\r\n      backgroundColor: theme.palette.common.white,\r\n    },\r\n  },\r\n  centerAlign: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center'\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  logo: {\r\n    textAlign: 'center',\r\n    marginBottom: theme.spacing(3)\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function ResendTokenPage(props) {\r\n  const classes = useStyles();\r\n  const [emailError, setEmailError] = useState('');\r\n  const [isAccountCreated,setIsAccountCreated] = useState(props.location.state ? props.location.state.accountCreated : false);\r\n  const [signUpSucess,setSignUpSuccess] = useState(props.location.state? props.location.state.signUpSucess : \"\");\r\n  const [email,setEmail] = useState(props.location.state? props.location.state.email : \"\");\r\n  const notify = (toastString) => {\r\n      toast(toastString);\r\n    };\r\n    useEffect(() => {\r\n        console.log(\"in resend token\");\r\n        console.log(signUpSucess);\r\n        console.log(email.email);\r\n    }, []);\r\n  const resendToken = (event) => {\r\n\r\n        event.preventDefault();\r\n        console.log(\"resend token\");\r\n        fetch('/users/resendToken?email=' + email.email).then(response => response.json())\r\n        .then((data) => {\r\n            console.log(data);\r\n            notify(\"Email sent to \" + email.email + \" with a new confirmation link.\");\r\n        })\r\n        .catch(() => {\r\n            notify(\"Could not send an email. Please try again\");\r\n        });\r\n  }\r\n\r\n  return (\r\n  <div>\r\n  <ToastContainer />\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <div className={classes.logo}>\r\n          <img src = {CompanyLogo} />\r\n        </div>\r\n        <form className={classes.form} onSubmit={resendToken}>\r\n        <Typography component=\"h1\" variant=\"h5\" align='center'>\r\n          Please go to your email and confirm you account. You can sign in once you do that.\r\n        </Typography>\r\n        <Typography variant=\"body2\" align='center' style={{marginTop: '40px'}}>\r\n          If your token has expired. click on the button below to resend a new confirmation email.\r\n        </Typography>\r\n        <Button\r\n          type=\"submit\"\r\n          fullWidth\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          className={classes.submit}\r\n        >\r\n          Resend Token\r\n        </Button>\r\n          <Grid container>\r\n            <Grid item xs={12}>\r\n             <Link href=\"/signin\" variant=\"body2\" className={classes.centerAlign}>\r\n              {\"Go back to sign in page\"}\r\n            </Link>\r\n            </Grid>\r\n          </Grid>\r\n          </form>\r\n      </div>\r\n      <Box mt={8}>\r\n        <Copyright />\r\n      </Box>\r\n    </Container>\r\n    </div>\r\n  );\r\n}\r\n","import React, {useState} from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport List from '@material-ui/core/List';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\r\nimport SvgIcon from '@material-ui/core/SvgIcon';\r\nimport homeIcon from '../icons/home.svg';\r\nimport profileIcon from '../icons/profile.svg';\r\nimport { Redirect } from 'react-router-dom';\r\nimport ridePostIcon from '../icons/ridepost.svg';\r\nimport historyIcon from '../icons/history.svg';\r\nimport messageIcon from '../icons/message.svg';\r\nimport signOutIcon from '../icons/signout.svg';\r\nimport {NavLink} from 'react-router-dom';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport Box from '@material-ui/core/Box';\r\nimport {Link } from 'react-router-dom'\r\n\r\nconst drawerWidth = 240;\r\n\r\n// const myName = prompt(\"Whats your username buddy?\")\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  appBar: {\r\n    transition: theme.transitions.create(['margin', 'width'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    marginLeft: drawerWidth,\r\n    transition: theme.transitions.create(['margin', 'width'], {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  hide: {\r\n    display: 'none',\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0,\r\n  },\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n  },\r\n  drawerHeader: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    padding: theme.spacing(0, 1),\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(1),\r\n    justifyContent: 'flex-end',\r\n  },\r\n  drawerFooter: {\r\n    position: 'absolute',\r\n    bottom: '0',\r\n    right: '0',\r\n    left: '0'\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(0),\r\n    transition: theme.transitions.create('margin', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    marginLeft: -drawerWidth,\r\n  },\r\n  contentShift: {\r\n    transition: theme.transitions.create('margin', {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    marginLeft: 0,\r\n  },\r\n  inline: {\r\n    display: 'inline',\r\n  },\r\n}));\r\n\r\nfunction ListItemLink(props) {\r\n  return <ListItem button component=\"a\" {...props} />\r\n}\r\n\r\nexport default function Home(props) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [open, setOpen] = React.useState(false);\r\n  const [driverRides, setDriverRides] = useState([]);\r\n  const [passengerRides, setPassengerRides] = useState([]);\r\n  const [isRideHistoryClicked, setIsRideHistoryClicked] = useState(false);\r\n  var redirect = null\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const clearLocalStorage = () => {\r\n      console.log('clearing local storage');\r\n      localStorage.clear();\r\n  };\r\n\r\n  const handleSelect = () => {\r\n      setIsRideHistoryClicked(false)\r\n      const params = {\r\n        user_id: localStorage.getItem('uid'),\r\n      }\r\n      fetch('/rides/rideHistory', {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body:  JSON.stringify(params)\r\n      }).then(response => response.json())\r\n      .then((data) => {\r\n         console.log(data);\r\n         if(data.error_code == 0){\r\n             var obj_d, obj_p\r\n             try {\r\n                obj_d = JSON.parse(data.driver_rides);\r\n                obj_p = JSON.parse(data.passenger_rides);\r\n              } catch (ex) {\r\n                console.error(ex);\r\n              }\r\n\r\n             setDriverRides(obj_d)\r\n             setPassengerRides(obj_p)\r\n             setIsRideHistoryClicked(true);\r\n         }else{\r\n             //notify(data.msg)\r\n         }\r\n     }).catch((error) => {\r\n         console.log(error);\r\n         //notify(error.msg)\r\n     });\r\n     handleDrawerClose()\r\n  };\r\n\r\n  if (isRideHistoryClicked) {\r\n    redirect = <Redirect to={{pathname: \"/ridehistory\",state: {driverRides: driverRides,passengerRides: passengerRides}}}/>;\r\n  }\r\n  else {\r\n    redirect = null;\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n    {redirect}\r\n      <CssBaseline />\r\n      <AppBar\r\n        position=\"fixed\"\r\n        className={clsx(classes.appBar, {\r\n          [classes.appBarShift]: open,\r\n        })}\r\n      >\r\n        <Toolbar>\r\n          <IconButton\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleDrawerOpen}\r\n            edge=\"start\"\r\n            className={clsx(classes.menuButton, open && classes.hide)}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" noWrap>\r\n            Beem Now\r\n          </Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Drawer\r\n        className={classes.drawer}\r\n        variant=\"persistent\"\r\n        anchor=\"left\"\r\n        open={open}\r\n        classes={{\r\n          paper: classes.drawerPaper,\r\n        }}\r\n      >\r\n        <div className={classes.drawerHeader}>\r\n          <IconButton onClick={handleDrawerClose}>\r\n            {theme.direction === 'ltr' ? <ChevronLeftIcon /> : <ChevronRightIcon />}\r\n          </IconButton>\r\n        </div>\r\n        <Divider />\r\n        <List component=\"nav\">\r\n\r\n          <ListItemLink key={\"Home\"} href = \"#\" onClick = {handleDrawerClose}>\r\n              <ListItemIcon>\r\n                <Icon><img src={homeIcon}/></Icon>\r\n              </ListItemIcon>\r\n              <ListItemText primary={\"Home\"} />\r\n          </ListItemLink >\r\n\r\n          <ListItemLink key={\"profile\"} href=\"#profile\" onClick = {handleDrawerClose}>\r\n              <ListItemIcon>\r\n                <Icon><img src={profileIcon}/></Icon>\r\n              </ListItemIcon>\r\n              <ListItemText primary={\"My Profile\"} />\r\n          </ListItemLink>\r\n\r\n          <ListItemLink key = {\"postride\"} href=\"#postride\" onClick = {handleDrawerClose}>\r\n              <ListItemIcon>\r\n                <Icon><img src={ridePostIcon}/></Icon>\r\n              </ListItemIcon>\r\n            <ListItemText primary={\"Post a Ride\"} />\r\n          </ListItemLink>\r\n\r\n          <ListItem button key = {\"ridehistory\"} onClick = {handleSelect}>\r\n              <ListItemIcon>\r\n                <Icon><img src={historyIcon}/></Icon>\r\n              </ListItemIcon>\r\n              <ListItemText primary={\"Ride History\"} />\r\n          </ListItem>\r\n\r\n          <ListItem button key={\"Messages\"}  onClick = {handleDrawerClose} component={Link} to={{\r\n            pathname:'/friendList', state: {name: localStorage.getItem('first_name')}}}>\r\n              <ListItemIcon><img src={messageIcon}/></ListItemIcon>\r\n              <ListItemText primary={\"Messages\"} />\r\n          </ListItem>\r\n\r\n          <ListItem button key={\"Sign Out\"} component=\"a\" href = \"/\" onClick = {clearLocalStorage}>\r\n              <ListItemIcon>\r\n                <Icon><img src={signOutIcon}/></Icon>\r\n              </ListItemIcon>\r\n              <ListItemText primary={\"Sign Out\"} />\r\n          </ListItem>\r\n\r\n        </List>\r\n        <Divider />\r\n        <div className = {classes.drawerFooter}>\r\n        <List>\r\n          <ListItemLink key={\"Terms of service\"} href = \"/termsofservice\" target=\"_blank\" style = {{textAlign: 'center'}}>\r\n              <ListItemText primary={\r\n                <React.Fragment>\r\n                  <Typography\r\n                    component=\"span\"\r\n                    variant=\"body2\"\r\n                    className={classes.inline}\r\n                    color=\"textPrimary\"\r\n                  >\r\n                    <Box fontStyle=\"italic\" m={1}>\r\n                      Terms of service\r\n                    </Box>\r\n                  </Typography>\r\n                </React.Fragment>\r\n              }/>\r\n          </ListItemLink>\r\n        </List>\r\n        </div>\r\n      </Drawer>\r\n      <main\r\n        className={clsx(classes.content, {\r\n          [classes.contentShift]: open,\r\n        })}\r\n      >\r\n        <div className={classes.drawerHeader} />\r\n\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Fragment, useState } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { KeyboardDatePicker, MuiPickersUtilsProvider, KeyboardTimePicker} from \"@material-ui/pickers\";\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  '@global': {\r\n    body: {\r\n      backgroundColor: theme.palette.common.white,\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function PostRide() {\r\n  const classes = useStyles();\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [selectedDate, handleDateChange] = useState(new Date());\r\n  const [selectedDateReturn, handleDateChangeReturn] = useState(new Date());\r\n  const [selectedTime, handleTimeChange] = useState(\"2019-01-01T00:00:00.000Z\");\r\n  const [selectedTimeReturn, handleTimeChangeReturn] = useState(\"2019-01-01T00:00:00.000Z\");\r\n  const [originCityError, setOriginCityError] = useState('');\r\n  const [destinationCityError, setDestinationCityError] = useState('');\r\n  const [amountError, setAmountError] = useState('');\r\n  const [maxCapacityError,setmaxCapacityError ] = useState('');\r\n  const [isChecked, setIsChecked] = useState(false);\r\n  // const [state, setState] = useState({\r\n  //   checkedA: true,\r\n  //   checkedB: true,\r\n  // });\r\n  const handleInputChange = event => {\r\n    let name = event.target.name\r\n    let value = event.target.value\r\n    if(name === 'originCity'){\r\n      if (value === '') {\r\n          setOriginCityError('First name is required')\r\n      } else{\r\n          setOriginCityError('')\r\n      }\r\n    } else if(name === 'destinationCity'){\r\n      if (value === '') {\r\n          setDestinationCityError('Last Name is required')\r\n      } else{\r\n          setDestinationCityError('')\r\n      }\r\n    } else if(name === 'maxCapacity'){\r\n      if (value === '') {\r\n          setmaxCapacityError('Enter capacity of your ride')\r\n      } else if (isNaN(value) || parseInt(value) <= 0){\r\n          setmaxCapacityError('Capacity should be a positive number')\r\n      } else {\r\n        setmaxCapacityError('')\r\n      }\r\n      } else if (name === 'pricePerSeat'){\r\n        if (value === '' || value === '0') {\r\n            setAmountError('Do you want to give free ride?')\r\n        } else if (isNaN(value) || parseInt(value) < 0){\r\n            setAmountError('Price should be a positive number')\r\n        } else {\r\n          setAmountError('')\r\n        }\r\n      }\r\n    }\r\n\r\n  const handleEmptySubmission = data => {\r\n    var success = true\r\n    if (originCityError !== '' || destinationCityError !== '' ||\r\n        amountError !== '' || maxCapacityError !== '') {\r\n          success = false\r\n          return success\r\n        }\r\n\r\n    if(data.get('originCity') === ''){\r\n      setOriginCityError('Origin city is required')\r\n      success = false\r\n    }\r\n    if(data.get('destinationCity') === ''){\r\n      setDestinationCityError('Destination city is required')\r\n      success = false\r\n    }\r\n    if(data.get('pricePerSeat') === ''){\r\n      setAmountError('Do you want to give free ride?')\r\n      success = false\r\n    }\r\n    if(data.get('maxCapacity') === ''){\r\n      setmaxCapacityError('Ride capacity is required')\r\n      success = false\r\n    }\r\n    return success\r\n  }\r\n\r\n  const handleSwitch  =  () =>{\r\n    setIsChecked(prev => !prev);\r\n  };\r\n  const handleSubmit = (event) => {\r\n      event.preventDefault();\r\n      const uid = localStorage.getItem('uid');\r\n      console.log(uid);\r\n      const data = new FormData(event.target);\r\n      const success = handleEmptySubmission(data);\r\n      // if(data.get('email') === 'A' &&  data.get('password') === 'B'){\r\n      //   setIsAuthenticated(true);\r\n      // }\r\n      if (success) {\r\n        const body = {\r\n          uid: uid,\r\n          originCity : data.get('originCity'),\r\n          destinationCity: data.get('destinationCity'),\r\n          pricePerSeat: data.get('pricePerSeat'),\r\n          departDate: data.get('departDate'),\r\n          roundTrip: data.get('roundTrip') ? true: false,\r\n          maxCapacity: data.get('maxCapacity'),\r\n          occupiedCapacity : data.get('maxCapacity'),\r\n          departTime: data.get('departTime'),\r\n          timeZone: Intl.DateTimeFormat().resolvedOptions().timeZone\r\n        }\r\n        if (data.get('roundTrip')) {\r\n          body['returnDate'] = data.get('returnDate');\r\n          body['returnTime'] = data.get('returnTime');\r\n        }\r\n        fetch('/rides/createRide', {\r\n          method: 'POST',\r\n          headers: {\r\n              Accept: 'application/json',\r\n              'Content-Type': 'application/json',\r\n          },\r\n          body:  JSON.stringify(body)\r\n        }).then(response => response.json())\r\n        .then((data) => {\r\n           console.log(data);\r\n           if(data.rideStatus) {\r\n               notify(\"Ride Posted Successfully.\")\r\n               setIsAuthenticated(true);\r\n           }else{\r\n               setIsAuthenticated(false);\r\n               notify(\"There is some error. Please try again later.\")\r\n           }\r\n       }).catch((error) => {\r\n           setIsAuthenticated(false);\r\n           console.log(error.msg);\r\n           notify(\"There is some error. Please try again later.\")\r\n       });\r\n        const notify = (toastString) => {\r\n        toast(toastString);\r\n      };\r\n    }\r\n\r\n  }\r\n  const [expanded, setExpanded] = useState(false);\r\n\r\n  const handleChange = panel => (event, isExpanded) => {\r\n    setExpanded(isExpanded ? panel : false);\r\n  };\r\n const [value, setValue] = useState();\r\n  return (\r\n    <div>\r\n    {isAuthenticated ? <Redirect to=\"/\"/> : null}\r\n    <ToastContainer />\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Post Ride\r\n        </Typography>\r\n        <form className={classes.form} onSubmit={handleSubmit} noValidate>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"originCity\"\r\n            label=\"From\"\r\n            type=\"from\"\r\n            id=\"password\"\r\n            autoComplete=\"current-password\"\r\n            error = {originCityError != ''}\r\n            helperText = {originCityError}\r\n            onChange = {handleInputChange}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"To\"\r\n            label=\"To\"\r\n            name=\"destinationCity\"\r\n            autoComplete=\"email\"\r\n            autoFocus\r\n            error = {destinationCityError != ''}\r\n            helperText = {destinationCityError}\r\n            onChange = {handleInputChange}\r\n          />\r\n           <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"capacity\"\r\n            label=\"Max Capacity\"\r\n            name=\"maxCapacity\"\r\n            //autoComplete=\"\"\r\n            autoFocus\r\n            error = {maxCapacityError != ''}\r\n            helperText = {maxCapacityError}\r\n            onChange ={handleInputChange}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"amount\"\r\n            label=\"Amount/seat\"\r\n            name=\"pricePerSeat\"\r\n            type= \"number\"\r\n            autoComplete=\"$\"\r\n            autoFocus\r\n            InputProps={{\r\n              startAdornment: <InputAdornment position=\"start\">$</InputAdornment>,\r\n              inputProps: { min: 0, max: 200 },\r\n            }}\r\n            error = {amountError != ''}\r\n            helperText ={amountError}\r\n            onChange ={handleInputChange}\r\n          />\r\n           <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n            <Grid container spacing={2}>\r\n             <Grid item xs={6}>\r\n              <KeyboardDatePicker\r\n                margin=\"normal\"\r\n                clearable\r\n                required\r\n                disablePast\r\n                inputVariant = \"outlined\"\r\n                label = \"Depart Date\"\r\n                name = \"departDate\"\r\n                value={selectedDate}\r\n                onChange={date => handleDateChange(date)}\r\n                minDate={new Date()}\r\n                format=\"MM/dd/yyyy\"\r\n                autoFocus\r\n              />\r\n              </Grid>\r\n              <Grid item xs={6}>\r\n                <KeyboardTimePicker\r\n                  margin=\"normal\"\r\n                  clearable\r\n                  required\r\n                  ampm={true}\r\n                  inputVariant=\"outlined\"\r\n                  label=\"Depart Time\"\r\n                  name=\"departTime\"\r\n                  value={selectedTime}\r\n                  onChange={handleTimeChange}\r\n                  autoFocus\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n          </MuiPickersUtilsProvider>\r\n            <FormControlLabel\r\n              control={\r\n                <Switch\r\n                  checked={isChecked}\r\n                  onChange={handleSwitch}\r\n                  value={isChecked}\r\n                  color=\"primary\"\r\n                  name =\"roundTrip\"\r\n                />\r\n              }\r\n              label = \"Make This a Round Trip\"\r\n              labelPlacement=\"start\"\r\n              name =\"roundTrip\"\r\n            />\r\n          <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n            <Grid container spacing={2}>\r\n             <Grid item xs={6}>\r\n              <KeyboardDatePicker\r\n                margin=\"normal\"\r\n                clearable\r\n                disabled = {!isChecked}\r\n                disablePast\r\n                inputVariant = \"outlined\"\r\n                label = \"Return Date\"\r\n                name = \"returnDate\"\r\n                value={selectedDateReturn}\r\n                onChange={date => handleDateChangeReturn(date)}\r\n                minDate={isChecked? selectedDate:null}\r\n                minDateMessage=\"Return Date should be after Depart Date\"\r\n                format=\"MM/dd/yyyy\"\r\n                autoFocus\r\n              />\r\n              </Grid>\r\n              <Grid item xs={6}>\r\n                <KeyboardTimePicker\r\n                  margin=\"normal\"\r\n                  clearable\r\n                  disabled = {!isChecked}\r\n                  ampm={true}\r\n                  inputVariant=\"outlined\"\r\n                  label=\"Return Time\"\r\n                  name = \"returnTime\"\r\n                  value={selectedTimeReturn}\r\n                  onChange={handleTimeChangeReturn}\r\n                  autoFocus\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n          </MuiPickersUtilsProvider>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n            Post\r\n          </Button>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Fragment, useState } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { KeyboardDatePicker, MuiPickersUtilsProvider, KeyboardTimePicker} from \"@material-ui/pickers\";\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport CompanyLogo from '../logo.png';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  '@global': {\r\n    body: {\r\n      backgroundColor: theme.palette.common.white,\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nconst monthNames = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"June\",\r\n      \"July\", \"Aug\", \"Sept\", \"Oct\", \"Nov\", \"Dec\"\r\n    ];\r\n\r\nDate.prototype.addDays = function(days) {\r\n    var date = new Date(this.valueOf());\r\n    date.setDate(date.getDate() + days);\r\n    return date;\r\n}\r\n\r\nfunction getDates(date) {\r\n    var days = 15\r\n    var startDate = new Date()\r\n    var stopDate = new Date(date.getTime() + (days * 24 * 60 * 60 * 1000));\r\n    var dateArray = new Array();\r\n    var currentDate = startDate;\r\n    while (currentDate <= stopDate) {\r\n        var t_date = new Date (currentDate);\r\n        var actualDate = String(t_date.getMonth()+1)+\"/\"+String(t_date.getDate())+\"/\"+String(t_date.getYear()+1900);\r\n        dateArray.push([String(t_date.getDate())+\" \"+monthNames[t_date.getMonth()], actualDate]);\r\n        currentDate = currentDate.addDays(1);\r\n    }\r\n    return dateArray;\r\n}\r\nconsole.log(Intl.DateTimeFormat().resolvedOptions().timeZone)\r\nexport default function SearchRide() {\r\n  const classes = useStyles();\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [selectedDate, handleDateChange] = useState(new Date());\r\n  const [selectedDateReturn, handleDateChangeReturn] = useState(new Date());\r\n  const [selectedTime, handleTimeChange] = useState(\"2019-01-01T00:00:00.000Z\");\r\n  const [dateArray, setDateArray] = useState('');\r\n  const [departureRides, setDepartureRides] = useState([]);\r\n  const [originCity, setOriginCity] = useState('');\r\n  const [destinationCity, setDestinationCity] = useState('');\r\n  const [roundTrip, setRoundTrip] = useState(false);\r\n  const [isChecked, setIsChecked] = useState(false);\r\n  const [seats, setSeats] = useState(1);\r\n  const inputLabel = React.useRef(null);\r\n  const [labelWidth, setLabelWidth] = React.useState(0);\r\n  const [originCityError, setOriginCityError] = useState('');\r\n  const [destinationCityError, setDestinationCityError] = useState('');\r\n\r\n  const handleSwitch  =  () =>{\r\n    setIsChecked(prev => !prev);\r\n  };\r\n  const handleseatChange = event => {\r\n      setSeats(event.target.value);\r\n    };\r\n  const handleInputChange = event => {\r\n    let name = event.target.name\r\n    let value = event.target.value\r\n    if(name === 'originCity'){\r\n      if (value === '') {\r\n          setOriginCityError('First name is required')\r\n      } else{\r\n          setOriginCityError('')\r\n      }\r\n    } else if(name === 'destinationCity'){\r\n      if (value === '') {\r\n          setDestinationCityError('Last Name is required')\r\n      } else{\r\n          setDestinationCityError('')\r\n      }\r\n    }\r\n  }\r\n  const handleEmptySubmission = data => {\r\n    var success = true\r\n    if (originCityError !== '' || destinationCityError !== '') {\r\n          success = false\r\n          return success\r\n        }\r\n    if(data.get('originCity') === '') {\r\n      setOriginCityError('Origin city is required')\r\n      success = false\r\n    }\r\n    if(data.get('destinationCity') === '') {\r\n      setDestinationCityError('Destination city is required')\r\n      success = false\r\n    }\r\n    return success\r\n  }\r\n  const handleSubmit = (event) => {\r\n      event.preventDefault();\r\n      const data = new FormData(event.target);\r\n      const uid = localStorage.getItem('uid');\r\n      console.log(uid);\r\n      console.log(seats);\r\n      const success = handleEmptySubmission(data);\r\n      const params = {\r\n          uid: uid,\r\n          roundTrip: false,\r\n          originCity: data.get('originCity'),\r\n          destinationCity: data.get('destinationCity'),\r\n          departDate: data.get('departDate'),\r\n          selectedDepartTime: null,\r\n          timeZone: Intl.DateTimeFormat().resolvedOptions().timeZone,\r\n          seats:data.get('seats')\r\n          //returnDate: data.get('returnDate')\r\n      }\r\n      setOriginCity(data.get('originCity'));\r\n      setDestinationCity(data.get('destinationCity'));\r\n      setDateArray(getDates(selectedDate));\r\n      setRoundTrip(data.get('roundTrip'));\r\n\r\n\r\n      if (success) {\r\n        fetch('/rides/searchRide', {\r\n          method: 'POST',\r\n          headers: {\r\n              Accept: 'application/json',\r\n              'Content-Type': 'application/json',\r\n          },\r\n          body:  JSON.stringify(params)\r\n        }).then(response => response.json())\r\n        .then((data) => {\r\n           if(data.error_code == 0){\r\n               var obj_d, obj_r;\r\n               try {\r\n                  obj_d = JSON.parse(data.departure_rides);\r\n                  obj_r = JSON.parse(data.return_rides);\r\n                  console.log(obj_d);\r\n                  console.log(obj_r);\r\n                } catch (ex) {\r\n                  console.error(ex);\r\n                }\r\n               setDepartureRides(obj_d)\r\n               setReturnRides(obj_r)\r\n               setIsAuthenticated(true);\r\n           }else{\r\n               //notify(data.msg)\r\n           }\r\n       }).catch((error) => {\r\n           console.log(\"in error\");\r\n           console.log(error);\r\n           //notify(error.msg)\r\n       });\r\n    }\r\n  }\r\n  const [expanded, setExpanded] = useState(false);\r\n\r\n  const handleChange = panel => (event, isExpanded) => {\r\n    setExpanded(isExpanded ? panel : false);\r\n  };\r\n const [value, setValue] = useState();\r\n  return (\r\n    <div>\r\n    {isAuthenticated ? <Redirect to={{\r\n                              pathname: \"/departresults\",\r\n                              state: {\r\n                                roundTrip:roundTrip,\r\n                                departure_rides: departureRides,\r\n                                originCity: originCity,\r\n                                destinationCity: destinationCity,\r\n                                dates: dateArray,\r\n                                returnDate: selectedDateReturn,\r\n                                seats:seats\r\n                              }\r\n                              }}/> : null}\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n      <div className={classes.logo}>\r\n        <img src = {CompanyLogo} />\r\n      </div>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Search Ride\r\n        </Typography>\r\n        <form className={classes.form} onSubmit={handleSubmit} noValidate>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"originCity\"\r\n            label=\"From\"\r\n            type=\"from\"\r\n            id=\"password\"\r\n            autoComplete=\"current-password\"\r\n            error = {originCityError != ''}\r\n            helperText = {originCityError}\r\n            onChange = {handleInputChange}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"To\"\r\n            label=\"To\"\r\n            name=\"destinationCity\"\r\n            autoComplete=\"email\"\r\n            autoFocus\r\n            error = {destinationCityError != ''}\r\n            helperText = {destinationCityError}\r\n            onChange = {handleInputChange}\r\n          />\r\n          <Grid container spacing={2}>\r\n           <Grid item xs={6}>\r\n           <FormControlLabel\r\n               control={\r\n                 <Switch\r\n                   checked={isChecked}\r\n                   onChange={handleSwitch}\r\n                   value={isChecked}\r\n                   color=\"primary\"\r\n                 />\r\n               }\r\n               name = 'roundTrip'\r\n               label = \"Round Trip\"\r\n               labelPlacement=\"start\"\r\n             />\r\n           </Grid>\r\n\r\n            <Grid item xs={6}>\r\n                <FormControl variant=\"outlined\" className={classes.formControl}>\r\n                <InputLabel id=\"seat_select\">seats</InputLabel>\r\n                   <Select\r\n                    name = 'seats'\r\n                     labelId=\"seat_select\"\r\n                     id=\"seats\"\r\n                     value={seats}\r\n                     onChange={handleseatChange}\r\n                     >\r\n                     <MenuItem value={1}>1</MenuItem>\r\n                     <MenuItem value={2}>2</MenuItem>\r\n                     <MenuItem value={3}>3</MenuItem>\r\n                     <MenuItem value={4}>4</MenuItem>\r\n                     <MenuItem value={5}>5</MenuItem>\r\n                     <MenuItem value={6}>6</MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n            </Grid>\r\n          </Grid>\r\n\r\n           <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n            <Grid container spacing={2}>\r\n             <Grid item xs={6}>\r\n              <KeyboardDatePicker\r\n                margin=\"normal\"\r\n                clearable\r\n                required\r\n                disablePast\r\n                inputVariant = \"outlined\"\r\n                name = 'departDate'\r\n                label = \"Travel Date\"\r\n                value={selectedDate}\r\n                onChange={date => handleDateChange(date)}\r\n                minDate={new Date()}\r\n                format=\"MM/dd/yyyy\"\r\n                autoFocus\r\n              />\r\n              </Grid>\r\n              <Grid item xs={6}>\r\n                <KeyboardDatePicker\r\n                margin=\"normal\"\r\n                clearable\r\n                disabled = {!isChecked}\r\n                disablePast\r\n                inputVariant = \"outlined\"\r\n                name = 'returnDate'\r\n                label = \"Return Date\"\r\n                value={selectedDateReturn}\r\n                onChange={date => handleDateChangeReturn(date)}\r\n                minDate={isChecked? selectedDate:null}\r\n                minDateMessage=\"Return Date should be after Depart Date\"\r\n                format=\"MM/dd/yyyy\"\r\n                autoFocus\r\n              />\r\n              </Grid>\r\n            </Grid>\r\n          </MuiPickersUtilsProvider>\r\n\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n            Search\r\n          </Button>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n    </div>\r\n  );\r\n}\r\n","import React, {useState, useEffect} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Box from '@material-ui/core/Box';\r\nimport Container from '@material-ui/core/Container';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { pink } from '@material-ui/core/colors';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\n\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <Typography\r\n      component=\"div\"\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id= {`scrollable-auto-tabpanel-${index}`}\r\n      aria-labelledby= {`scrollable-auto-tab-${index}`}\r\n      {...other}\r\n    >\r\n      <Box p={3}>{children}</Box>\r\n    </Typography>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.any.isRequired,\r\n  value: PropTypes.any.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n\r\n  return {\r\n    id: `scrollable-auto-tab-${index}`,\r\n    'aria-controls': `scrollable-auto-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    width: '100%',\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  inline: {\r\n    display: 'inline',\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  card: {\r\n    backgroundColor: theme.palette.common.white,\r\n    boxShadow: '0 1px 6px rgba(0, 0, 0, 0.12), 0 1px 4px rgba(0, 0, 0, 0.24)',\r\n    borderRadius: '15px',\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  avatarBlock: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    marginBottom: theme.spacing(1),\r\n    backgroundColor: pink[400],\r\n  },\r\n}));\r\n\r\nconst headingTheme = createMuiTheme({\r\n  typography: {\r\n    h5: {\r\n      fontWeight: 500,\r\n    },\r\n  },\r\n});\r\n\r\n\r\nconst monthNames = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"June\",\r\n      \"July\", \"Aug\", \"Sept\", \"Oct\", \"Nov\", \"Dec\"\r\n    ];\r\n\r\nDate.prototype.addDays = function(days) {\r\n    var date = new Date(this.valueOf());\r\n    date.setDate(date.getDate() + days);\r\n    return date;\r\n}\r\n\r\nfunction getDates(date, startDate) {\r\n    var days = 15\r\n    var stopDate = new Date(date.getTime() + (days * 24 * 60 * 60 * 1000));\r\n    var dateArray = new Array();\r\n    var currentDate = startDate;\r\n    while (currentDate <= stopDate) {\r\n        var t_date = new Date (currentDate);\r\n\r\n        var actualDate = String(t_date.getMonth()+1)+\"/\"+String(t_date.getDate())+\"/\"+String(t_date.getYear()+1900);\r\n        dateArray.push([String(t_date.getDate())+\" \"+monthNames[t_date.getMonth()], actualDate]);\r\n        currentDate = currentDate.addDays(1);\r\n    }\r\n    return dateArray;\r\n}\r\n\r\nexport default function DepartureRidesPage(props) {\r\n  const classes = useStyles();\r\n  const [departureRides, setDepartureRides] = useState(props.location.state.departure_rides);\r\n  const [returnRides, setReturnRides] = useState(\"\");\r\n  const [originCity, setOriginCity] = useState(props.location.state.originCity);\r\n  const [destinationCity, setDestinationCity] = useState(props.location.state.destinationCity);\r\n  const [selectedReturnDate, setSelectedReturnDate] = useState(props.location.state.returnDate);\r\n  console.log(selectedReturnDate)\r\n  const [roundTrip, setRoundTrip] = useState(props.location.state.roundTrip);\r\n  const [returnDateArray, setReturnDateArray] = useState([]);\r\n  const [isClicked, setIsClicked] = useState(false);\r\n  const [selectedDepartRide, setSelectedDepartRide] = useState('');\r\n  const [dates, setDates] = useState(props.location.state.dates);\r\n  const [value, setValue] = useState(dates.length - 15);\r\n  const [seats, setSeats] = useState(props.location.state.seats);\r\n\r\n  const handleSelect = (item) => {\r\n      setSelectedDepartRide(item)\r\n      var departDate = new Date((dates[value][1]))\r\n      console.log(departDate)\r\n      var returnDate = new Date(selectedReturnDate.getTime())\r\n      console.log(returnDate)\r\n      console.log(departDate, returnDate)\r\n      if (departDate > returnDate){\r\n        returnDate = departDate.addDays(1);\r\n        console.log(returnDate)\r\n\r\n      }\r\n      setReturnDateArray(getDates(returnDate, departDate));\r\n      console.log(returnDateArray.length)\r\n      returnDate = String(returnDate.getMonth()+1)+\"/\"+String(returnDate.getDate())+\"/\"+String(returnDate.getYear()+1900);\r\n\r\n      const params = {\r\n          uid: localStorage.getItem('uid'),\r\n          originCity: destinationCity,\r\n          destinationCity: originCity,\r\n          departDate: returnDate,\r\n          roundTrip: false,\r\n          selectedDepartTime: item.departDate,\r\n          timeZone: Intl.DateTimeFormat().resolvedOptions().timeZone,\r\n          seats:seats\r\n      }\r\n      fetch('/rides/searchRide', {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body:  JSON.stringify(params)\r\n      }).then(response => response.json())\r\n      .then((data) => {\r\n         if(data.error_code == 0){\r\n             var obj\r\n             try {\r\n                obj = JSON.parse(data.departure_rides);\r\n                console.log(obj)\r\n              } catch (ex) {\r\n                console.error(ex);\r\n              }\r\n              console.log(obj)\r\n              setReturnRides(obj)\r\n              setIsClicked(true)\r\n             //save the user object in the\r\n         }else{\r\n             //notify(data.msg)\r\n         }\r\n      }).catch((error) => {\r\n             console.log(error);\r\n             //notify(error.msg)\r\n      });\r\n\r\n  }\r\n\r\n  const formatDepartureDate = (date) => {\r\n      var t = date.split('T')\r\n      var time = t[1].split(':')\r\n      var meridian = (parseInt(time[0]) < 12) ? \"AM\" : \"PM\"\r\n      var t_date = new Date(date)\r\n      var dateString = t_date.getDate() + \" \" + monthNames[t_date.getMonth()] + \"  \"\r\n                       + time[0] + \":\"+ time[1] + \" \" + meridian\r\n      return dateString\r\n  }\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue)\r\n    const params = {\r\n          uid: localStorage.getItem('uid'),\r\n          originCity: originCity,\r\n          destinationCity: destinationCity,\r\n          departDate: dates[newValue][1],\r\n          selectedDepartTime: null,\r\n          roundTrip: false,\r\n          timeZone: Intl.DateTimeFormat().resolvedOptions().timeZone,\r\n          seats:seats\r\n    }\r\n    fetch('/rides/searchRide', {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body:  JSON.stringify(params)\r\n      }).then(response => response.json())\r\n      .then((data) => {\r\n         if(data.error_code == 0){\r\n             var obj\r\n             try {\r\n                obj = JSON.parse(data.departure_rides);\r\n                console.log(obj)\r\n              } catch (ex) {\r\n                console.error(ex);\r\n              }\r\n              console.log(obj)\r\n              setDepartureRides(obj)\r\n              console.log('HEY',departureRides)\r\n             //save the user object in the\r\n         }else{\r\n             //notify(data.msg)\r\n         }\r\n      }).catch((error) => {\r\n             console.log(error);\r\n             //notify(error.msg)\r\n      });\r\n  }\r\n\r\n  return (\r\n  <Container component = \"main\" maxWidth='md'>\r\n      <CssBaseline />\r\n      <div className = {classes.paper}>\r\n        <ThemeProvider theme={headingTheme}>\r\n          <div style = {{marginBottom: '3%'}}>\r\n            <Typography variant=\"h5\" color = \"primary\">Departure</Typography>\r\n          </div>\r\n        </ThemeProvider>\r\n          <AppBar position = \"Static\" color=\"default\">\r\n            <Tabs\r\n              value={value}\r\n              onChange={handleChange}\r\n              indicatorColor=\"primary\"\r\n              textColor=\"primary\"\r\n              variant=\"scrollable\"\r\n              scrollButtons=\"auto\"\r\n              aria-label=\"scrollable auto tabs example\"\r\n            >\r\n            {dates.map((date, index) => (\r\n              <Tab label={date[0]} {...a11yProps(index)} />\r\n            ))}\r\n            </Tabs>\r\n          </AppBar>\r\n          <div style = {{width: '100%'}}>\r\n          {dates.map((date, index) => (\r\n              <TabPanel value={value} index={index}>\r\n                <div>\r\n                  {departureRides.length != 0 ?\r\n                  <div>\r\n                  {isClicked ?\r\n                      (!roundTrip ?\r\n                          <Redirect to={{pathname:\"/ridesummary\", state: {roundTrip:roundTrip, selectedDepartRide:selectedDepartRide, seats:seats,selectedReturnRide:null}}}/>\r\n                          : <Redirect to={{pathname: \"/returnresults\", state: {roundTrip:roundTrip, selectedDepartRide: selectedDepartRide, seats:seats, returnRides: returnRides, originCity: originCity, destinationCity: destinationCity, dates: returnDateArray}}}/>\r\n                      ): null}\r\n                  <Container component = \"main\" maxWidth = \"md\" style = {{padding: '0 0 0 0'}}>\r\n                  <CssBaseline />\r\n                  <List>\r\n                    {departureRides.map(item => (\r\n                    <div className = {classes.card}>\r\n                      <ListItem button key={item._id} alignItems=\"flex-start\">\r\n                        <ListItemAvatar className = {classes.avatarBlock}>\r\n                          <Avatar alt=\"No Image\" src={item.avatar} className={classes.avatar}>\r\n                             {item.host.first_name[0]}\r\n                          </Avatar>\r\n                          <Typography variant=\"body1\" color=\"textSecondary\">{item.host.first_name}</Typography>\r\n                        </ListItemAvatar>\r\n                        <Container maxWidth='md'>\r\n                          <ListItemText key={item._id} onClick = {() => handleSelect(item)}>\r\n                            <Typography variant=\"body1\" color=\"textSecondary\"> {item.originCity}</Typography>\r\n                            <Typography variant=\"body1\" color=\"textSecondary\"><span>&nbsp;</span>|</Typography>\r\n                            <Typography variant=\"body1\" color=\"textSecondary\"> {item.destinationCity}</Typography>\r\n                            <Typography variant=\"body1\" color=\"textSecondary\">Seats Left : {item.maxCapacity}</Typography>\r\n                            <Typography variant=\"subtitle2\" align='justify' color=\"textSecondary\">\r\n                              {formatDepartureDate(item.departDate)}\r\n                            </Typography>\r\n                            <Typography variant=\"h6\" align = \"right\">{item.pricePerSeat}$</Typography>\r\n                          </ListItemText>\r\n                        </Container>\r\n                      </ListItem>\r\n                    </div>\r\n                    ))}\r\n                  </List>\r\n                  </Container></div> : <Typography variant=\"h3\" color=\"textSecondary\" align=\"center\">No rides found</Typography>}\r\n                  </div>\r\n                </TabPanel>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </Container>\r\n        );\r\n}\r\n","import React, {useState} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Box from '@material-ui/core/Box';\r\nimport Container from '@material-ui/core/Container';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { pink } from '@material-ui/core/colors';\r\nimport { Redirect } from 'react-router-dom';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\n\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <Typography\r\n      component=\"div\"\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`scrollable-auto-tabpanel-${index}`}\r\n      aria-labelledby={`scrollable-auto-tab-${index}`}\r\n      {...other}\r\n    >\r\n      <Box p={3}>{children}</Box>\r\n    </Typography>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.any.isRequired,\r\n  value: PropTypes.any.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n\r\n  return {\r\n    id: `scrollable-auto-tab-${index}`,\r\n    'aria-controls': `scrollable-auto-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    width: '100%',\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  inline: {\r\n    display: 'inline',\r\n  },\r\n  avatarBlock: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    marginBottom: theme.spacing(1),\r\n    backgroundColor: pink[400],\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  card: {\r\n    backgroundColor: theme.palette.common.white,\r\n    boxShadow: '0 1px 6px rgba(0, 0, 0, 0.12), 0 1px 4px rgba(0, 0, 0, 0.24)',\r\n    borderRadius: '15px',\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nconst headingTheme = createMuiTheme({\r\n  typography: {\r\n    h5: {\r\n      fontWeight: 500,\r\n    },\r\n  },\r\n});\r\n\r\nexport default function ReturnRidesPage(props) {\r\n  const classes = useStyles();\r\n  const [returnRides, setReturnRides] = useState(props.location.state.returnRides);\r\n  const [originCity, setOriginCity] = useState(props.location.state.originCity);\r\n  const [destinationCity, setDestinationCity] = useState(props.location.state.destinationCity);\r\n  const [dates, setDates] = useState(props.location.state.dates)\r\n  const [roundTrip, setRoundTrip] = useState(props.location.state.roundTrip);\r\n  const [departId, setDepartId] = useState(props.location.state.departId);\r\n  const [returnId, setReturnId] = useState('');\r\n  const [selectedDepartRide, setSelectedDepartRide] = useState(props.location.state.selectedDepartRide);\r\n  const [selectedReturnRide, setSelectedReturnRide] = useState('');\r\n  const [isClicked, setIsClicked] = useState(false);\r\n  const [seats, setSeats] = useState(props.location.state.seats);\r\n\r\n  const [value, setValue] = useState(dates.length - 16);\r\n\r\n  const monthNames = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"June\",\r\n      \"July\", \"Aug\", \"Sept\", \"Oct\", \"Nov\", \"Dec\"\r\n    ];\r\n\r\n  const handleSelect = (item) => {\r\n      console.log(item._id)\r\n      setSelectedReturnRide(item)\r\n\r\n      setIsClicked(true)\r\n  }\r\n\r\n  const formatDepartureDate = (date) => {\r\n      var t = date.split('T')\r\n      var time = t[1].split(':')\r\n      var meridian = (parseInt(time[0]) < 12) ? \"AM\" : \"PM\"\r\n      var t_date = new Date(date)\r\n      var dateString = t_date.getDate() + \" \" + monthNames[t_date.getMonth()] + \"  \"\r\n                       + time[0] + \":\"+ time[1] + \" \" + meridian\r\n      return dateString\r\n  }\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue)\r\n    const params = {\r\n          uid: localStorage.getItem('uid'),\r\n          originCity: destinationCity,\r\n          destinationCity: originCity,\r\n          departDate: dates[newValue][1],\r\n          selectedDepartTime: selectedDepartRide.departDate,\r\n          roundTrip: false,\r\n          timeZone: Intl.DateTimeFormat().resolvedOptions().timeZone,\r\n          seats:seats\r\n    }\r\n    fetch('/rides/searchRide', {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body:  JSON.stringify(params)\r\n      }).then(response => response.json())\r\n      .then((data) => {\r\n         if(data.error_code == 0){\r\n             var obj\r\n             try {\r\n                obj = JSON.parse(data.departure_rides);\r\n              } catch (ex) {\r\n                console.error(ex);\r\n              }\r\n             setReturnRides(obj)\r\n             console.log(\"Authenticated\")\r\n             //save the user object in the\r\n         }else{\r\n             //notify(data.msg)\r\n         }\r\n         }).catch((error) => {\r\n             console.log(error);\r\n             //notify(error.msg)\r\n         });\r\n  };\r\n\r\n  return (\r\n  <Container component = \"main\" maxWidth='md'>\r\n      <CssBaseline />\r\n      <div className = {classes.paper}>\r\n        <ThemeProvider theme={headingTheme}>\r\n          <div style = {{marginBottom: '3%'}}>\r\n            <Typography variant=\"h5\" color = \"primary\">Return</Typography>\r\n          </div>\r\n        </ThemeProvider>\r\n        <AppBar position=\"static\" color=\"default\">\r\n          <Tabs\r\n            value={value}\r\n            onChange={handleChange}\r\n            indicatorColor=\"primary\"\r\n            textColor=\"primary\"\r\n            variant=\"scrollable\"\r\n            scrollButtons=\"auto\"\r\n            aria-label=\"scrollable auto tabs example\"\r\n          >\r\n          {dates.map((date, index) => (\r\n            <Tab label={date[0]} {...a11yProps(index)} />\r\n          ))}\r\n          </Tabs>\r\n        </AppBar>\r\n        <div style={{width: '100%'}}>\r\n        {dates.map((date, index) => (\r\n            <TabPanel value={value} index={index}>\r\n              <div>\r\n              {returnRides.length != 0 ?\r\n              <div>\r\n              {isClicked ? <Redirect to={{pathname:\"/ridesummary\",\r\n                                          state: {\r\n                                            roundTrip: roundTrip,\r\n                                            departId: departId,\r\n                                            returnId: returnId,\r\n                                            originCity: originCity,\r\n                                            destinationCity: destinationCity,\r\n                                            selectedDepartRide: selectedDepartRide,\r\n                                            selectedReturnRide: selectedReturnRide,\r\n                                            seats:seats\r\n                                          }}}/> : null}\r\n              <Container component = \"main\" maxWidth='md' style = {{padding: '0 0 0 0'}}>\r\n              <CssBaseline />\r\n              <List>\r\n                {returnRides.map(item => (\r\n                <div className = {classes.card}>\r\n                  <ListItem button key={item._id} alignItems=\"flex-start\">\r\n                    <ListItemAvatar className = {classes.avatarBlock}>\r\n                      <Avatar alt=\"No Image\" src={item.avatar} className={classes.avatar}>\r\n                         {item.host.first_name[0]}\r\n                      </Avatar>\r\n                      <Typography variant=\"body1\" color=\"textSecondary\">{item.host.first_name}</Typography>\r\n                    </ListItemAvatar>\r\n                    <Container maxWidth='md'>\r\n                      <ListItemText key={item._id} onClick = {() => handleSelect(item)}>\r\n                        <Typography variant=\"body1\" color=\"textSecondary\"> {item.originCity}</Typography>\r\n                        <Typography variant=\"body1\" color=\"textSecondary\"><span>&nbsp;</span>|</Typography>\r\n                        <Typography variant=\"body1\" color=\"textSecondary\"> {item.destinationCity}</Typography>\r\n                        <Typography variant=\"body1\" color=\"textSecondary\">Seats Left : {item.maxCapacity}</Typography>\r\n                        <Typography variant=\"subtitle2\" align='justify' color=\"textSecondary\">\r\n                          {formatDepartureDate(item.departDate)}\r\n                        </Typography>\r\n                        <Typography variant=\"h6\" align = \"right\">{item.pricePerSeat}$</Typography>\r\n                      </ListItemText>\r\n                    </Container>\r\n                  </ListItem>\r\n                </div>\r\n                ))}\r\n              </List> </Container></div> : <Typography variant=\"h3\" color=\"textSecondary\" align=\"center\">No rides found</Typography>}\r\n              </div>\r\n            </TabPanel>\r\n          ))}\r\n        </div>\r\n      </div>\r\n  </Container>\r\n  );\r\n}\r\n","import React, {useState, useEffect} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport PropTypes from 'prop-types';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { pink, green } from '@material-ui/core/colors';\r\nimport Container from '@material-ui/core/Container';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from '@material-ui/core/Button';\r\nimport {Link } from 'react-router-dom'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\n\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n   root: {\r\n    width: '100%',\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  inline: {\r\n    display: 'inline',\r\n  },\r\n  avatarBlock: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginRight: theme.spacing(3),\r\n  },\r\n  avatar: {\r\n    marginBottom: theme.spacing(1),\r\n    backgroundColor: pink[400],\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  card: {\r\n    width: '100%'\r\n  },\r\n  mainContainer: {\r\n    backgroundColor: theme.palette.common.white,\r\n    boxShadow: '0 1px 6px rgba(0, 0, 0, 0.12), 0 1px 4px rgba(0, 0, 0, 0.24)',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    width: '100%'\r\n  },\r\n  priceTag: {\r\n    paddingRight: theme.spacing(5),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  chatButton: {\r\n    margin: theme.spacing(3, 0, 2),\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nconst headingTheme = createMuiTheme({\r\n  typography: {\r\n    h5: {\r\n      fontWeight: 500,\r\n    },\r\n  },\r\n});\r\n\r\nconst monthNames = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"June\",\r\n      \"July\", \"Aug\", \"Sept\", \"Oct\", \"Nov\", \"Dec\"\r\n    ];\r\n\r\nexport default function RideSummary(props) {\r\n  const classes = useStyles();\r\n  const [departureRide, setDepartureRide] = useState(props.location.state.selectedDepartRide);\r\n  const [roundTrip, setRoundTrip] = useState(props.location.state.roundTrip);\r\n  const [returnRide, setReturnRide] = useState(props.location.state.selectedReturnRide);\r\n  const [departSuccess, setdepartSuccess] = useState(false);\r\n  const [returnSuccess, setReturnSuccess] = useState(false);\r\n  const [ridesRequested, setRidesRequested] = useState(false);\r\n  const [seats, setSeats] = useState(props.location.state.seats);\r\n\r\n  const notify = (toastString) => {\r\n      toast(toastString);\r\n    };\r\n    useEffect(() => {\r\n          console.log(\"in Ride summarry useEffect\");\r\n          console.log(seats);\r\n      });\r\n\r\n  var totalCost = parseFloat(seats) * (parseFloat(departureRide.pricePerSeat) + (roundTrip?parseFloat(returnRide.pricePerSeat):0.0) )\r\n  const formatDepartureDate = (date) => {\r\n      var t = date.split('T')\r\n      var time = t[1].split(':')\r\n      var meridian = (parseInt(time[0]) < 12) ? \"AM\" : \"PM\"\r\n      var t_date = new Date(date)\r\n      var dateString = t_date.getDate() + \" \" + monthNames[t_date.getMonth()] + \"  \"\r\n                       + time[0] + \":\"+ time[1] + \" \" + meridian\r\n      return dateString\r\n  }\r\n\r\n\r\n  const handleConfirm = (event) => {\r\n      console.log(\"Ride confirmed...\")\r\n      if(roundTrip){\r\n          handleRoundTrip();\r\n      }else{\r\n          handleSingleRide();\r\n      }\r\n  }\r\n  const handleRoundTrip = () => {\r\n        console.log(\"handling roundtrip\");\r\n        chooseRidePost(departId,handleDepartResponse);\r\n        chooseRidePost(returnId,handleReturnResponse);\r\n  }\r\n  const handleSingleRide = () => {\r\n      chooseRidePost(departId,handleDepartResponse);\r\n  }\r\n  const handleDepartResponse = (resp) =>{\r\n      console.log(\"handling depart ride response\");\r\n    if(resp.error_code == 0){\r\n        setdepartSuccess(true);\r\n        if(!roundTrip){\r\n            console.log(\"handling depart ride response but not roundTrip\");\r\n            setRidesRequested(true);\r\n        }\r\n    }\r\n  }\r\n  const handleReturnResponse= (resp) => {\r\n      console.log(\"handling return ride response\");\r\n      if(resp.error_code == 0){\r\n        setReturnSuccess(true);\r\n      }\r\n  }\r\n  const chooseRidePost = (rid,successCallback) => {\r\n      console.log(\"choose ride post\");\r\n      console.log(rid);\r\n      var body = {uid:localStorage.getItem('uid'),\r\n                  rid:rid,\r\n                  seats:seats};\r\n      fetch('/rides/chooseride', {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(body),\r\n      }).then(response => response.json())\r\n      .then((resp) => {\r\n          if(resp.error_code == 0){\r\n              console.log(resp);\r\n              successCallback(resp);\r\n          }else{\r\n              notify(resp.msg)\r\n          }\r\n\r\n     }).catch( (error) => {\r\n        notify(\"Unable to request ride. Something has gone wrong\");\r\n         console.log(error);\r\n     });\r\n  }\r\n\r\n  return (\r\n      <div>\r\n      { ((!roundTrip && departSuccess) || (roundTrip && departSuccess && returnSuccess))  ? <Redirect to={{ pathname : \"/rideconfirmed\",\r\n                                    state : {roundTrip :{roundTrip},\r\n                                            departSuccess: {departSuccess},\r\n                                            returnSuccess: {returnSuccess}\r\n                                    }\r\n        }} />: null}\r\n      <ToastContainer />\r\n    <Container component = \"main\" maxWidth='md'>\r\n      <CssBaseline />\r\n      <div className = {classes.paper}>\r\n        <ThemeProvider theme={headingTheme}>\r\n          <div style = {{marginBottom: '3%'}}>\r\n            <Typography variant=\"h5\" color = \"primary\">Ride Summary</Typography>\r\n          </div>\r\n        </ThemeProvider>\r\n        <div className = {classes.mainContainer}>\r\n          <List style = {{width: '95%'}}>\r\n            <div>\r\n              <Typography variant=\"h6\" color=\"textSecondary\">Departure:</Typography>\r\n            </div>\r\n            <Divider />\r\n            <div className = {classes.card}>\r\n              <ListItem key={departureRide._id} alignItems=\"flex-start\">\r\n                <ListItemAvatar className = {classes.avatarBlock}>\r\n                  <Avatar alt=\"No Image\" src={departureRide.host.avatar} className={classes.avatar}>\r\n                     {departureRide.host.first_name[0]}\r\n                  </Avatar>\r\n                  <Typography variant=\"body1\" color=\"textSecondary\">{departureRide.host.first_name}</Typography>\r\n                  <ThemeProvider theme={headingTheme}>\r\n                    <Button variant=\"contained\" color = \"primary\" className={classes.chatButton} component = {Link} to={{\r\n\r\n                    pathname:'/chat', state: { to: departureRide.host.first_name, name: localStorage.getItem('first_name')}}}>\r\n                      Chat\r\n                    </Button>\r\n                  </ThemeProvider>\r\n                </ListItemAvatar>\r\n                <Grid container spacing={1}>\r\n                  <Grid item xs>\r\n                    <ListItemText key={departureRide._id}>\r\n                      <Typography variant=\"body1\" color=\"textSecondary\"> {departureRide.originCity}</Typography>\r\n                      <Typography variant=\"body1\" color=\"textSecondary\"><span>&nbsp;</span>|</Typography>\r\n                      <Typography variant=\"body1\" color=\"textSecondary\"> {departureRide.originCity}</Typography>\r\n                      <Typography variant=\"subtitle2\" align='justify' color=\"textSecondary\">\r\n                        {formatDepartureDate(departureRide.departDate)}\r\n                      </Typography>\r\n                    </ListItemText>\r\n                  </Grid>\r\n                  <Grid item md>\r\n                    <ListItemText>\r\n                      <Typography variant=\"h6\" align = \"center\" color=\"textSecondary\">Price</Typography>\r\n                      <Typography variant=\"h6\" align = \"center\" color=\"textSecondary\">{seats*departureRide.pricePerSeat}$</Typography>\r\n                    </ListItemText>\r\n                  </Grid>\r\n                </Grid>\r\n              </ListItem>\r\n            </div>\r\n            <div>\r\n              { roundTrip ?\r\n                <div>\r\n                <div>\r\n                  <Typography variant=\"h6\" color=\"textSecondary\">Return:</Typography>\r\n                </div>\r\n                <Divider />\r\n                <div className = {classes.card}>\r\n                  <ListItem key={returnRide._id} alignItems=\"flex-start\">\r\n                    <ListItemAvatar className = {classes.avatarBlock}>\r\n                      <Avatar alt=\"No Image\" src={returnRide.host.avatar} className={classes.avatar}>\r\n                         {returnRide.host.first_name[0]}\r\n                      </Avatar>\r\n                      <Typography variant=\"body1\" color=\"textSecondary\">{returnRide.host.first_name}</Typography>\r\n                      <ThemeProvider theme={headingTheme}>\r\n                        <Button\r\n                          variant=\"contained\"\r\n                          color = \"primary\"\r\n                          className={classes.chatButton}\r\n                          component = {Link} to={{\r\n\r\n                          pathname:'/chat', state: { to: returnRide.host.first_name, name: localStorage.getItem('first_name')}}}\r\n                        >\r\n                          Chat\r\n                        </Button>\r\n                      </ThemeProvider>\r\n                    </ListItemAvatar>\r\n                    <Grid container spacing={1}>\r\n                      <Grid item xs>\r\n                        <ListItemText key={returnRide._id}>\r\n                          <Typography variant=\"body1\" color=\"textSecondary\"> {returnRide.destinationCity}</Typography>\r\n                          <Typography variant=\"body1\" color=\"textSecondary\"><span>&nbsp;</span>|</Typography>\r\n                          <Typography variant=\"body1\" color=\"textSecondary\"> {returnRide.originCity}</Typography>\r\n                          <Typography variant=\"subtitle2\" align='justify' color=\"textSecondary\">\r\n                            {formatDepartureDate(returnRide.departDate)}\r\n                          </Typography>\r\n                        </ListItemText>\r\n                      </Grid>\r\n                      <Grid item md>\r\n                        <ListItemText>\r\n                          <Typography variant=\"h6\" align = \"center\" color=\"textSecondary\">Price</Typography>\r\n                         <Typography variant=\"h6\" align = \"center\" color=\"textSecondary\">{seats*returnRide.pricePerSeat}$</Typography>\r\n                        </ListItemText>\r\n                      </Grid>\r\n                    </Grid>\r\n                  </ListItem>\r\n                </div></div> : null}\r\n            </div>\r\n            <Divider style = {{marginTop: '5%'}}/>\r\n            <div className = {classes.card}>\r\n              <ListItem key={departureRide._id} alignItems=\"flex-start\">\r\n                <Grid container direction=\"row\" justify=\"space-between\" alignItems=\"flex-start\">\r\n                 <Typography variant=\"h6\" color=\"textSecondary\">Total</Typography>\r\n                 <Typography variant=\"h6\" color=\"textSecondary\" className = {classes.priceTag}>{totalCost}$</Typography>\r\n                </Grid>\r\n              </ListItem>\r\n            </div>\r\n          </List>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            backgroundColor = '#62c9f2'\r\n            className={classes.submit}\r\n            onClick = {handleConfirm}\r\n          >\r\n            Confirm\r\n          </Button>\r\n      </div>\r\n    </Container>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Redirect } from 'react-router-dom';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport {Link } from 'react-router-dom'\r\nimport { pink } from '@material-ui/core/colors';\r\nimport Avatar from '@material-ui/core/Avatar';\r\n\r\nimport PageviewIcon from '@material-ui/icons/Pageview';\r\nimport { grey } from '@material-ui/core/colors';\r\nimport { Input } from '@material-ui/core';\r\n\r\n\r\n\r\n\r\nconst useStyles=makeStyles(theme =>({\r\n\r\n    root:{\r\n      marginTop : theme.spacing(5),\r\n      padding:theme.spacing(3,2),\r\n    },\r\n    flex:{\r\n      display:'flex',\r\n      alignItem:'center'\r\n    },\r\n    chatBox:{\r\n      width:'80%',\r\n      marginTop:'500px'\r\n    },\r\n    button:\r\n    {\r\n      margin: theme.spacing(1),\r\n      marginTop:'500px'\r\n    },\r\n    dot:{\r\n      height: '10px',\r\n    width: '10px',\r\n    backgroundColor: 'green',\r\n    borderRadius: '50%',\r\n    display: 'inline-block',\r\n    },\r\n    chat:{\r\n        borderBottom: \"1px solid rgb(212, 212, 212)\" ,\r\n        //Can add styles to chat if want to afterwards  \r\n    },\r\n    pink: {\r\n      color: '#fff',\r\n      backgroundColor: pink[500],\r\n    },\r\n  }\r\n  ))\r\n\r\n\r\n\r\nexport default function FriendList(props){\r\n\r\n  // console.log(\"name = \"+props.location.state.name) \r\n\r\n    const classes = useStyles();\r\n\r\n    const [users, setChatUsers] = useState(null);\r\n\r\n    async function fetchFriends() {\r\n      console.log(\"calling fetchFriends\")\r\n      fetch('/Cars/cars/'+props.location.state.name, {\r\n        method: 'GET',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        // body: JSON.stringify({ post: this.state.post }),\r\n      }).then(response => response.json())\r\n      .then(data=>{\r\n        console.log(\"fetch called\"+JSON.stringify(data))\r\n        setChatUsers(data)\r\n      })\r\n    }\r\n    console.log(\"called fetchFriends\")\r\n    //Later, take it to a separate module.\r\n    const getDate = (dateInMillis)=>{\r\n      var date = new Date(parseInt(dateInMillis));\r\n      // var month = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n      // \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\r\n      // ][mydate.getMonth()];\r\n      // var day = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'][mydate.getDay()];\r\n      // var hrs = mydate.getHours()\r\n      // var mins = mydate.getMinutes()\r\n      // var fullYear  = mydate.getFullYear()\r\n      // console.log(mydate)\r\n      var hours = date.getHours();\r\n      var minutes = date.getMinutes();\r\n      var ampm = hours >= 12 ? 'pm' : 'am';\r\n      hours = hours % 12;\r\n      hours = hours ? hours : 12; // the hour '0' should be '12'\r\n      minutes = minutes < 10 ? '0'+minutes : minutes;\r\n      var strTime = hours + ':' + minutes + ' ' + ampm;\r\n      console.log(\"Get date is beingcalled\")\r\n      console.log(\"type of datemillis = \"+typeof(dateInMillis))\r\n\r\n      return date.getDate()+\"/\"+(date.getMonth()+1)+\"/\"+date.getFullYear()+\"\\t\\t\\t\\t\\t\\t\"+strTime\r\n\r\n    }\r\n    useEffect(() => {fetchFriends()},[])\r\n    console.log(\"date = \"+Date.now()) \r\n\r\n    //users will be rendered in 2nd render, so first render need to be handled explicitly for users doesnt exist and users exist cases.\r\n    if(users!=null){\r\n      if(users.length==0){\r\n      return  <div><Avatar className={classes.pink}>\r\n              <PageviewIcon />\r\n              </Avatar>\r\n              <h2>Oops! No Old Chats Found</h2>\r\n              </div>\r\n    }\r\n  }\r\n    var chatList = ''\r\n    if(users!=null)\r\n    {chatList = users.map(user =>{\r\n        return  <ListItem alignItems=\"flex-start\" button={true} divider={true} className = {classes.chat} component = {Link} to={{\r\n            pathname:'/chat', state: { to: user.friendId, name: user.name}}}>\r\n        {/* <ListItemAvatar>\r\n        <Avatar alt=\"Travis Howard\" src=\"/static/images/avatar/2.jpg\" />\r\n        </ListItemAvatar> */}\r\n        <ListItemText\r\n        primary={user.friendId}\r\n        secondary={\r\n        <React.Fragment>\r\n             <Typography\r\n            component=\"span\"\r\n            variant=\"body2\"\r\n            className={classes.inline}\r\n            color=\"textPrimary\"\r\n          >         \r\n            <div   style={{ whiteSpace: 'pre-wrap' ,color : \"grey\"}}>Last message at: {getDate(user.msgs[user.msgs.length-1].time)}</div>\r\n          </Typography>\r\n          <div>{user.msgs[user.msgs.length-1].from+\":\"+user.msgs[user.msgs.length-1].message}</div>\r\n        </React.Fragment>\r\n            }\r\n        />\r\n        </ListItem>\r\n      })}\r\n    return(\r\n        <div className = {classes.root}>\r\n\r\n          {chatList}\r\n\r\n        </div>\r\n    )\r\n}","import React, { useState,useEffect } from 'react'\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport io from 'socket.io-client'\r\nimport { green } from '@material-ui/core/colors';\r\nimport { getThemeProps } from '@material-ui/styles';\r\n\r\nconst useStyles=makeStyles(theme =>({\r\n\r\n  root:{\r\n    margin:'50px',\r\n    padding:theme.spacing(3,2),\r\n  },\r\n  flex:{\r\n    display:'flex',\r\n    alignItem:'center'\r\n  },\r\n  chatBox:{\r\n    width:'80%',\r\n    marginTop:'500px'\r\n  },\r\n  button:\r\n  {\r\n    margin: theme.spacing(1),\r\n    marginTop:'500px'\r\n  },\r\n  dot:{\r\n    height: '10px',\r\n  width: '10px',\r\n  backgroundColor: 'green',\r\n  borderRadius: '50%',\r\n  display: 'inline-block',\r\n  }\r\n\r\n}\r\n))\r\n\r\nvar socket = io(':3002')\r\n\r\n\r\n\r\n\r\nexport default function Dashboard(props){\r\n\r\nconst [initialChat, changeInitialChat] = useState('')\r\nconst [toAdd, changeToAdd] = useState([])\r\n\r\nuseEffect(() => {\r\n  getInitialChatAndRegisterUser(props.location.state.to)\r\n}, []);\r\n\r\n\r\n\r\nasync function getInitialChatAndRegisterUser(otherPersonId){\r\n  var toAddUtil = []\r\n  let msgs = ''\r\n  let chat = ''\r\n  let time = ''\r\n  const response = await fetch('Cars/cars/'+props.location.state.name+'/'+otherPersonId, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  })\r\n  \r\n\r\n  const data = await response.json();\r\n  console.log(\"yolo\")\r\n  console.log(data)\r\n  if(data.length==0){\r\n    return;\r\n  }\r\n  msgs = data[0].msgs\r\n  Array.from(msgs).forEach(function (arrayItem) {\r\n    chat = \"\\n\"+arrayItem.from+\":\"+arrayItem.message\r\n    time = getDate(arrayItem.time)\r\n\r\n\r\n\r\n    var newDiv = document.createElement('div');\r\n    newDiv.setAttribute(\"align\", \"left\")\r\n\r\n    // newDiv.style.backgroundColor = \"Beige\"\r\n    newDiv.innerHTML= chat\r\n    var newSpan = document.createElement('span');\r\n    if(props.location.state.name == arrayItem.from){\r\n    newDiv.style.border= \"1px solid blue\";\r\n    newSpan.style.backgroundColor = \"LIGHTCYAN\"\r\n    }else{\r\n      newDiv.style.border= \"1px solid green\";\r\n      newSpan.style.backgroundColor = \"Beige\"\r\n    }\r\n\r\n    newSpan.innerHTML= time\r\n    newSpan.style.textAlign = \"right\";\r\n    newSpan.style.display = \"block\";\r\n    newDiv.append(newSpan)\r\n    document.getElementById('chatScreen').append(newDiv)\r\n\r\n  });\r\n\r\n  socket.on('client-message',  message => {\r\n    //Replace by documentById get code finally.\r\n  console.log(\"client-message received\"+message.from+\" \"+message.msg)\r\n  var chat = \"\\n\"+message.from+\":\"+message.msg\r\n  var time = getDate(message.time)\r\n  console.log(\"socket.on(client-message) toAdd = \"+toAdd)\r\n  console.log(\"socket.on(client-message) initial chat = \"+initialChat)\r\n\r\n\r\n  var newDiv = document.createElement('div');\r\n  newDiv.setAttribute(\"align\", \"left\")\r\n  newDiv.style.border= \"1px solid green\";\r\n  // newDiv.style.backgroundColor = \"Beige\"\r\n  newDiv.innerHTML= chat\r\n  var newSpan = document.createElement('span');\r\n  newSpan.style.backgroundColor = \"Beige\"\r\n  newSpan.innerHTML= time\r\n  newSpan.style.textAlign = \"right\";\r\n  newSpan.style.display = \"block\";\r\n  newDiv.append(newSpan)\r\n  document.getElementById('chatScreen').append(newDiv)\r\n\r\n  // document.getElementById('chatScreen').append(chat+'     '+'@'+'('+time+')'+\"\\n\")\r\n\r\n\r\n  console.log(\"socket.on(client-message) toAdd = \"+toAdd)\r\n  // changeInitialChat(previousState => {\r\n  //   return JSON.stringify(previousState) + 'blah'\r\n  // })\r\n  })\r\n\r\n  socket.emit('new-user', {userName:props.location.state.name})\r\n\r\n  }\r\n\r\n  const getDate = (dateInMillis)=>{\r\n    var date = new Date(parseInt(dateInMillis));\r\n    var hours = date.getHours();\r\n    var minutes = date.getMinutes();\r\n    var ampm = hours >= 12 ? 'pm' : 'am';\r\n    hours = hours % 12;\r\n    hours = hours ? hours : 12; // the hour '0' should be '12'\r\n    minutes = minutes < 10 ? '0'+minutes : minutes;\r\n    var strTime = hours + ':' + minutes + ' ' + ampm;\r\n    console.log(\"Get date is beingcalled\")\r\n\r\n    return date.getDate()+\"/\"+(date.getMonth()+1)+\"/\"+date.getFullYear()+\", \"+strTime\r\n\r\n  }\r\n\r\nconst classes = useStyles();\r\n\r\nlet [textValue, changeTextValue] = useState('')\r\n\r\nconst userName = props.location.state.name\r\n\r\nconst handleChatSubmit = (sender, textValue, textTime)=>{\r\n    if(textValue){\r\n    var chat = \"\\n\"+sender+\":\"+textValue\r\n    var time = getDate(textTime)\r\n    // toAdd.push(<div style={{textAlign:\"left\", whiteSpace:'pre-line'}}>{chat}<span style={{float:\"right\"}}>{time}</span></div>)\r\n    // changeToAdd(previousState =>{\r\n    //   previousState.push([<div style={{textAlign:\"left\", whiteSpace:'pre-line'}}>{chat}<span style={{float:\"right\"}}>{time}</span></div>])\r\n    //   changeInitialChat(previousState)\r\n    // })\r\n\r\n    var newDiv = document.createElement('div');\r\n    newDiv.setAttribute(\"align\", \"left\")\r\n    newDiv.style.border= \"1px solid blue\";\r\n    // newDiv.style.backgroundColor = \"Beige\"\r\n    newDiv.innerHTML= chat\r\n    var newSpan = document.createElement('span');\r\n    newSpan.style.backgroundColor = \"LIGHTCYAN\"\r\n    newSpan.innerHTML= time\r\n    newSpan.style.textAlign = \"right\";\r\n    newSpan.style.display = \"block\";\r\n    newDiv.append(newSpan)\r\n    document.getElementById('chatScreen').append(newDiv)\r\n\r\n    // document.getElementById('chatScreen').append(chat+'     '+'@'+'('+time+')'+\"\\n\")\r\n\r\n        }\r\n      }\r\n\r\nconst saveChat = (sender, textValue, textTime) =>{\r\n  if(textValue){\r\n    fetch('Cars/cars', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        name:props.location.state.name,friendId:props.location.state.to,msgs:{from :sender,message:textValue, time:textTime}\r\n      }),\r\n    }).then(response => response.json())\r\n    .then(data=>{\r\n      console.log(\"insert/save called for data\"+data)\r\n    })\r\n  }\r\n}\r\n\r\nconst submitOnSocket = (textValue, textTime)=>{\r\n  if(textValue){\r\n    socket.emit(\"send-chat-message\",{from :props.location.state.name,to:props.location.state.to,message:textValue, messageTime:textTime})\r\n  }\r\n}\r\n\r\n\r\nreturn(\r\n    <div>\r\n    <Paper className={classes.root}>\r\n      <Typography variant=\"h4\" component=\"h4\">\r\n      </Typography>\r\n      <Typography variant=\"h6\" component=\"h6\">\r\n      <span></span>Chat with {props.location.state.to}\r\n      </Typography>\r\n      <div id=\"chatScreen\" style={{textAlign:\"left\", whiteSpace:'pre-line'}}>\r\n        {initialChat}\r\n      </div>\r\n    <div className = {classes.flex}>\r\n      <TextField\r\n          id=\"standard-basic\"\r\n          className={classes.chatBox}\r\n          label=\"Type in your message\"\r\n          margin=\"normal\"\r\n          value = {textValue}\r\n          onChange = {(e) => changeTextValue(e.target.value)}\r\n         />\r\n       <Button variant=\"contained\" color=\"primary\" className={classes.button} onClick ={() => {\r\n         const timeInMillisInteger = Date.now()\r\n         const time = getDate(timeInMillisInteger)\r\n         handleChatSubmit(props.location.state.name,textValue, timeInMillisInteger);\r\n         submitOnSocket(textValue, timeInMillisInteger)\r\n         saveChat(props.location.state.name,textValue, timeInMillisInteger.toString());\r\n         changeTextValue('')\r\n         }}>Send</Button>\r\n    </div>\r\n    </Paper>\r\n    </div>\r\n)\r\n}\r\n","import React, {useState} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport PropTypes from 'prop-types';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Container from '@material-ui/core/Container';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport { pink } from '@material-ui/core/colors';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: '100%',\r\n    //backgroundColor: theme.palette.background.paper,\r\n  },\r\n  inline: {\r\n    display: 'inline',\r\n  },\r\n  avatarBlock: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  avatar: {\r\n    marginBottom: theme.spacing(1),\r\n    backgroundColor: pink[400],\r\n  },\r\n  paper: {\r\n    display: 'flex',\r\n  },\r\n  card: {\r\n    backgroundColor: theme.palette.common.white,\r\n    boxShadow: '0 1px 6px rgba(0, 0, 0, 0.12), 0 1px 4px rgba(0, 0, 0, 0.24)',\r\n    borderRadius: '15px',\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nconst monthNames = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"June\",\r\n      \"July\", \"Aug\", \"Sept\", \"Oct\", \"Nov\", \"Dec\"\r\n    ];\r\n\r\nexport default function AlignItemsList(props) {\r\n  const classes = useStyles();\r\n  const [rides, setRides] = useState(props.rides)\r\n\r\n  const formatDepartureDate = (date) => {\r\n      var t = date.split('T')\r\n      var time = t[1].split(':')\r\n      var meridian = (parseInt(time[0]) < 12) ? \"AM\" : \"PM\"\r\n      var t_date = new Date(date)\r\n      var dateString = t_date.getDate() + \" \" + monthNames[t_date.getMonth()] + \"  \"\r\n                       + time[0] + \":\"+ time[1] + \" \" + meridian\r\n      return dateString\r\n  }\r\n\r\n  return (\r\n    <div>\r\n    {rides.length != 0 ?\r\n    <div>\r\n    <Container component = \"main\" maxWidth='md' style = {{padding: '0 0 0 0'}}>\r\n    <CssBaseline />\r\n    <List>\r\n      {rides.map(item => (\r\n      <div className = {classes.card}>\r\n        <ListItem key={item._id} alignItems=\"flex-start\">\r\n          <ListItemAvatar className = {classes.avatarBlock}>\r\n            <Avatar alt=\"No Image\" src={item.avatar} className={classes.avatar}>\r\n               {item.host.first_name[0]}\r\n            </Avatar>\r\n            <Typography variant=\"body1\" color=\"textSecondary\">{item.host.first_name}</Typography>\r\n          </ListItemAvatar>\r\n          <Grid container spacing={1}>\r\n            <Grid item xs>\r\n            <ListItemText key={item._id}>\r\n              <Typography variant=\"body1\" color=\"textSecondary\"> {item.originCity}</Typography>\r\n              <Typography variant=\"body1\" color=\"textSecondary\"><span>&nbsp;</span>|</Typography>\r\n              <Typography variant=\"body1\" color=\"textSecondary\"> {item.destinationCity}</Typography>\r\n              <Typography variant=\"body1\" color=\"textSecondary\">Seats Left : {item.maxCapacity}</Typography>\r\n              <Typography variant=\"subtitle2\" align='justify' color=\"textSecondary\">\r\n                {formatDepartureDate(item.departDate)}\r\n              </Typography>\r\n            </ListItemText>\r\n            </Grid>\r\n            <Grid item sm>\r\n              <Grid container direction=\"column\" justify=\"space-between\" alignItems=\"flex-end\">\r\n                <Grid item sm>\r\n                    <Typography variant=\"h6\" align = \"right\">{item.pricePerSeat}$</Typography>\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </ListItem>\r\n      </div>\r\n      ))}\r\n    </List> </Container></div> : <Typography variant=\"h3\" color=\"textSecondary\" align=\"center\">No rides found</Typography>}\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Box from '@material-ui/core/Box';\r\nimport RideHistoryList from \"./RideHistoryList\";\r\nimport Container from '@material-ui/core/Container';\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <Typography\r\n      component=\"div\"\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`full-width-tabpanel-${index}`}\r\n      aria-labelledby={`full-width-tab-${index}`}\r\n      {...other}\r\n    >\r\n      <Box p={3}>{children}</Box>\r\n    </Typography>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.any.isRequired,\r\n  value: PropTypes.any.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `full-width-tab-${index}`,\r\n    'aria-controls': `full-width-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    flexGrow: 1,\r\n    width: '100%',\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n}));\r\n\r\nexport default function FullWidthTabs(props) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [value, setValue] = React.useState(0);\r\n  const [driverRides, setDriverRides] = React.useState(props.location.state.driverRides);\r\n  const [passengerRides, setPassengerRides] = React.useState(props.location.state.passengerRides);\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  const handleChangeIndex = index => {\r\n    setValue(index);\r\n  };\r\n\r\n  return (\r\n  <Container component = \"main\" maxWidth='md'>\r\n    <div className={classes.root}>\r\n    <div className = {classes.paper}>\r\n      <AppBar position=\"static\" color=\"default\">\r\n        <Tabs\r\n          value={value}\r\n          onChange={handleChange}\r\n          indicatorColor=\"primary\"\r\n          textColor=\"primary\"\r\n          variant=\"fullWidth\"\r\n          aria-label=\"full width tabs example\"\r\n        >\r\n          <Tab label=\"Rides Posted\" {...a11yProps(0)} />\r\n          <Tab label=\"Rides Taken\" {...a11yProps(1)} />\r\n        </Tabs>\r\n      </AppBar>\r\n      </div>\r\n      <TabPanel value={value} index={0} dir={theme.direction}>\r\n        <RideHistoryList \r\n                rides={driverRides} \r\n        />\r\n      </TabPanel>\r\n      <TabPanel value={value} index={1} dir={theme.direction}>\r\n        <RideHistoryList \r\n                rides={passengerRides} \r\n        />\r\n      </TabPanel>\r\n    </div>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport CompanyLogo from '../logo.png';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"/\">\r\n        Beem Now\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  '@global': {\r\n    body: {\r\n      backgroundColor: theme.palette.common.white,\r\n    },\r\n  },\r\n  centerAlign: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center'\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  logo: {\r\n    textAlign: 'center',\r\n    marginBottom: theme.spacing(3)\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function RideConfirmed(props) {\r\n  const classes = useStyles();\r\n  const [roundTrip, setRoundTrip] = useState(props.location.state.roundTrip);\r\n  const [departSuccess, setdepartSuccess] = useState(props.location.state.departSuccess);\r\n  const [returnSuccess, setreturnSuccess] = useState(props.location.state.returnSuccess);\r\n  const notify = (toastString) => {\r\n      toast(toastString);\r\n    };\r\n\r\n  return (\r\n  <div>\r\n  <ToastContainer />\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <div className={classes.logo}>\r\n          <img src = {CompanyLogo} />\r\n        </div>\r\n        {roundTrip ?\r\n        <Typography component=\"h1\" variant=\"h5\" align='center'>\r\n          Your ride request has been sent succesfully.\r\n        </Typography>\r\n        :\r\n        <Typography component=\"h1\" variant=\"h5\" align='center'>\r\n          Your ride requests have been sent succesfully.\r\n        </Typography>\r\n        }\r\n        {roundTrip ?\r\n            <Typography variant=\"body2\" align='center' style={{marginTop: '40px'}}>\r\n              Your request has been succesfully sent to the host. You will recieve a ride confirmation email when the host accepts you ride request.\r\n            </Typography>\r\n            :\r\n            <Typography variant=\"body2\" align='center' style={{marginTop: '40px'}}>\r\n               Your request has been succesfully sent to the host. You will recieve a ride confirmation emails for your departure ride and your return rides when the hosts accepts you ride request.\r\n            </Typography>\r\n        }\r\n          <Grid container>\r\n            <Grid item xs={12}>\r\n             <Link href=\"/home\" variant=\"body2\" className={classes.centerAlign}>\r\n              {\"Go back to Home page\"}\r\n            </Link>\r\n            </Grid>\r\n          </Grid>\r\n\r\n      </div>\r\n      <Box mt={8}>\r\n        <Copyright />\r\n      </Box>\r\n    </Container>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, Component } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport SideDrawer from './SideDrawer';\r\nimport PostRide from './PostRide';\r\nimport SearchRide from './SearchRide';\r\nimport DepartTrip from './DepartureRidesPage';\r\nimport ReturnTrip from './ReturnRidesPage';\r\nimport RideSummary from './RideSummary';\r\n\r\nimport FriendList from './FriendList';\r\nimport Dashboard from './Dashboard';\r\nimport RideHistory from './RideHistoryPage'\r\n\r\nimport RideConfirmed from './rideConfirmedPage';\r\n// import RideHistory from './RideHistoryPage';\r\n\r\nimport { Switch, Route, Link, HashRouter, NavLink} from 'react-router-dom';\r\nexport default function Home() {\r\n  return (\r\n      <HashRouter>\r\n        <div>\r\n          <div className=\"header\">\r\n            <SideDrawer>...</SideDrawer>\r\n          </div>\r\n          <div className=\"content\">\r\n            <Route exact path=\"/\" component={SearchRide}/>\r\n            <Route path=\"/departresults\" component={DepartTrip}/>\r\n            <Route path=\"/returnresults\" component={ReturnTrip}/>\r\n            <Route path=\"/postride\" component={PostRide}/>\r\n            <Route path=\"/ridesummary\" component={RideSummary}/>\r\n            <Route path=\"/rideconfirmed\" component={RideConfirmed}/>\r\n            <Route path=\"/ridehistory\" component={RideHistory}/>\r\n            <Route exact path = '/friendList' component = {FriendList}/>\r\n            <Route exact path = '/chat' component = {Dashboard}/>\r\n          </div>\r\n        </div>\r\n      </HashRouter>\r\n    );\r\n}\r\n","import React, { useState } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport CompanyLogo from '../logo.png'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"/\">\r\n        Beem Now\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  '@global': {\r\n    body: {\r\n      backgroundColor: theme.palette.common.white,\r\n    },\r\n  },\r\n  centerAlign: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center'\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  logo: {\r\n    textAlign: 'center',\r\n    marginBottom: theme.spacing(3)\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\nconst notify = (toastString) => {\r\n    toast(toastString);\r\n  };\r\n\r\nexport default function ForgotPassword() {\r\n  const classes = useStyles();\r\n  const [emailError, setEmailError] = useState('');\r\n\r\n  const validateEmailAddress = (event) =>{\r\n      let name = event.target.name\r\n      let value = event.target.value\r\n      if(event.target.value === ''){\r\n          setEmailError('Email Address Required')\r\n      }\r\n      else{\r\n          var email = event.target.value;\r\n          var reg = /^[a-zA-Z0-9/_/g]+@tamu\\.edu$/;\r\n          var test = reg.test(email);\r\n          if (test) {\r\n              setEmailError('')\r\n          } else{\r\n              setEmailError('Not a valid email address')\r\n          }\r\n      }\r\n  }\r\n  const handleSubmit = (event) => {\r\n      event.preventDefault();\r\n      const data = new FormData(event.target);\r\n\r\n      const body = {\r\n          email : data.get('email'),\r\n      }\r\n      console.log(body);\r\n\r\n      fetch('/users/requestPasswordReset', {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(body),\r\n      }).then(response => response.json())\r\n      .then(data => {\r\n         console.log(data);\r\n         notify(\"An email has been sent. Please follow the instructions provided in the email to change your password.\");\r\n     }).catch(error => {\r\n         console.log(data);\r\n         notify(\"We are unable process your request. Please try again later.\");\r\n     });\r\n  }\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <div className={classes.logo}>\r\n          <img src = {CompanyLogo} />\r\n        </div>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Forgot Password\r\n        </Typography>\r\n        <Typography variant=\"body1\" style={{marginTop: '60px', marginBottom: '30px'}}>\r\n          Please enter your registered email ID.\r\n          We will send you a verification email to reset your password.\r\n        </Typography>\r\n        <form className={classes.form} onSubmit={handleSubmit} noValidate>\r\n          <TextField\r\n            error={emailError !== ''}\r\n            variant=\"outlined\"\r\n            required\r\n            fullWidth\r\n            id=\"email\"\r\n            label=\"University Email\"\r\n            name=\"email\"\r\n            autoComplete=\"email\"\r\n            helperText = {emailError}\r\n            onChange = {validateEmailAddress}\r\n            autoFocus\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n            Submit\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item xs={12}>\r\n              <Link href=\"/signin\" variant=\"body2\" className={classes.centerAlign}>\r\n                {\"Sign in here\"}\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n      <Box mt={8}>\r\n        <Copyright />\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport { Redirect } from 'react-router-dom';\r\nimport CompanyLogo from '../logo.png'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  '@global': {\r\n    body: {\r\n      backgroundColor: theme.palette.common.white,\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  logo: {\r\n    textAlign: 'center',\r\n    marginBottom: theme.spacing(3)\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function ResetPassword() {\r\n  const classes = useStyles();\r\n  const [password, setPassword] = useState('');\r\n  const [passwordError, setPasswordError] = useState('');\r\n  const [confirmPasswordError, setConfirmPasswordError] = useState('');\r\n  const [resetSuccess, setResetSuccess] = useState(false);\r\n  const [token,setToken] = useState(props.match.params.token);\r\n  const validatePassword = (event) => {\r\n      let name = event.target.name\r\n      let value = event.target.value\r\n      setPassword(value)\r\n      if(event.target.value==''){\r\n          setPasswordError('Password Required')\r\n      }\r\n      else{\r\n          var pass = event.target.value;\r\n          var reg = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d@$!%*#?&]{8,32}$/;\r\n          var test = reg.test(pass);\r\n          if (test) {\r\n              setPasswordError('')\r\n          } else{\r\n              setPasswordError('Password should contain a digit,small letter,capital letter and must be between 8 to 32 characters')\r\n          }\r\n      }\r\n    }\r\n  const validatePasswordComfirmation = (event) => {\r\n      let name = event.target.name\r\n      let value = event.target.value\r\n      var pass = event.target.value;\r\n      if (pass === password) {\r\n          setConfirmPasswordError('')\r\n      } else{\r\n          setConfirmPasswordError('Passwords do not match')\r\n      }\r\n  }\r\n  const handleSubmit = (event) => {\r\n      event.preventDefault();\r\n      const data = new FormData(event.target);\r\n      if(data.get('password') === ''){\r\n        setPasswordError('Password can not be empty.')\r\n      } else if(data.get('confirmPassword') === ''){\r\n        setConfirmPasswordError('Please confirm your password.')\r\n      } else {\r\n        setPasswordError('')\r\n        setConfirmPasswordError('')\r\n        var body = {token : token,\r\n                    newPassword: data.get('password'),\r\n                    newPasswordConf: data.get('confirmPassword')}\r\n        fetch('/users/resetPassword', {\r\n          method: 'POST',\r\n          headers: {\r\n              Accept: 'application/json',\r\n              'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify(body),\r\n        }).then(response => response.json())\r\n        .then((data) => {\r\n           console.log(data);\r\n           if(data.error_code == 0){\r\n               //save the user object in the\r\n               console.log(data.user);\r\n               setResetSuccess(true);\r\n           }else{\r\n               notify(data.msg)\r\n           }\r\n       }).catch((error) => {\r\n           console.log(error);\r\n           notify(error.msg)\r\n       });\r\n\r\n      }\r\n\r\n  }\r\n  return (\r\n    <div>\r\n      {resetSuccess ? <Redirect to=\"/Signin\"/> : null}\r\n      <Container component=\"main\" maxWidth=\"xs\">\r\n        <CssBaseline />\r\n        <div className={classes.paper}>\r\n          <div className={classes.logo}>\r\n            <img src = {CompanyLogo} />\r\n          </div>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Reset Password\r\n          </Typography>\r\n          <form className={classes.form} onSubmit={handleSubmit} noValidate>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  error={passwordError !== ''}\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  name=\"password\"\r\n                  label=\"New Password\"\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  autoComplete=\"current-password\"\r\n                  helperText = {passwordError}\r\n                  onChange = {validatePassword}\r\n                  autoFocus\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  error = {confirmPasswordError !== ''}\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  name=\"confirmPassword\"\r\n                  label=\"Confirm Password\"\r\n                  type=\"password\"\r\n                  id=\"confirm-password\"\r\n                  autoComplete=\"confirm-password\"\r\n                  helperText = {confirmPasswordError}\r\n                  onChange = {validatePasswordComfirmation}\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n            >\r\n              Reset\r\n            </Button>\r\n          </form>\r\n        </div>\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport NotFoundImage from '../404.png';\r\nconst NotFound = () => (\r\n<div>\r\n<img src={NotFoundImage} style={{width: 1000, height: 500, display: 'block', margin: 'auto', position: 'relative' }} />\r\n    <center><Link to=\"/\">Return to Home Page</Link></center>\r\n</div>\r\n);\r\nexport default NotFound;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport CompanyLogo from '../logo.png';\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"/\">\r\n        Beem Now\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  '@global': {\r\n    body: {\r\n      backgroundColor: theme.palette.common.white,\r\n    },\r\n  },\r\n  centerAlign: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center'\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  logo: {\r\n    textAlign: 'center',\r\n    marginBottom: theme.spacing(3)\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function AccountVerified(props) {\r\n  const classes = useStyles();\r\n  const [emailError, setEmailError] = useState('');\r\n  const [token,setToken] = useState(props.match.params.token,\"\");\r\n  const [verificationText, setVerificationText] = useState(\"Verifying your account\");\r\n  const [verified, setVerified] = useState(false);\r\n\r\n  const openStripe = (event) => {\r\n        //TODO\r\n        event.preventDefault();\r\n        console.log(\"openstripe\");\r\n        // fetch('/payments/openStripe',{\r\n        //     method: 'GET',\r\n        // })\r\n  };\r\n\r\n  useEffect(() => {\r\n        console.log(\"in component did mount\");\r\n        fetch( '/users/confirmation?token=' + token).then(response => response.json())\r\n        .then((data) => {\r\n            console.log(data);\r\n            setVerificationText(\"Account Verified\");\r\n            setVerified(true);\r\n        }).catch((error) => {\r\n            console.log(error);\r\n            setVerificationText(\"unable to verify your account. Please resend and email and verifiy again.\");\r\n            setVerified(false);\r\n        });\r\n    });\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <div className={classes.logo}>\r\n          <img src = {CompanyLogo} />\r\n        </div>\r\n        <Typography component=\"h1\" variant=\"h5\" align='center'>\r\n         {verificationText}\r\n        </Typography>\r\n        {verified ? <div>\r\n        <Typography variant=\"body1\" align='center' style={{marginTop: '60px'}}>\r\n          Your account has been verified. Now you can login\r\n        </Typography>\r\n        <form className={classes.form} onSubmit={openStripe}>\r\n        <Typography variant=\"body2\" align='center' style={{marginTop: '40px'}}>\r\n          Before continuing to login, please take a minute to connect your payments profile via stripe.\r\n        </Typography>\r\n        <Button\r\n          type=\"submit\"\r\n          fullWidth\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          className={classes.submit}\r\n        >\r\n          Connect to Stripe\r\n        </Button>\r\n          <Grid container>\r\n            <Grid item xs={12}>\r\n              <Link href=\"/signin\" variant=\"body2\" className={classes.centerAlign}>\r\n                {\"Go back to sign in page\"}\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n          </form>\r\n          </div> : null}\r\n      </div>\r\n      <Box mt={8}>\r\n        <Copyright />\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport CompanyLogo from '../logo.png';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"/\">\r\n        Beem Now\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  '@global': {\r\n    body: {\r\n      backgroundColor: theme.palette.common.white,\r\n    },\r\n  },\r\n  centerAlign: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center'\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  logo: {\r\n    textAlign: 'center',\r\n    marginBottom: theme.spacing(3)\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function ChangePassword(props) {\r\n  const classes = useStyles();\r\n  const [password, setPassword] = useState('');\r\n  const [passwordError, setPasswordError] = useState('');\r\n  const [confirmPasswordError, setConfirmPasswordError] = useState('');\r\n  const [token,setToken] = useState(props.match.params.token,\"\");\r\n  const [passwordChanged, setPasswordChanged] = useState(false);\r\n  const validatePassword = (event) => {\r\n      let name = event.target.name\r\n      let value = event.target.value\r\n      setPassword(value)\r\n      if(event.target.value === ''){\r\n          setPasswordError('Password Required')\r\n      }\r\n      else{\r\n          var pass = event.target.value;\r\n          var reg = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d@$!%*#?&]{8,32}$/;\r\n          var test = reg.test(pass);\r\n          if (test) {\r\n              setPasswordError('')\r\n          } else{\r\n              setPasswordError('Password shoud contain a digit,small letter,capital letter and must be between 8 to 32 characters')\r\n          }\r\n      }\r\n  }\r\n  const validatePasswordComfirmation = (event) => {\r\n      let name = event.target.name\r\n      let value = event.target.value\r\n      var pass = event.target.value\r\n      if (pass === password) {\r\n          setConfirmPasswordError('')\r\n      } else{\r\n          setConfirmPasswordError('Passwords do not match')\r\n      }\r\n  }\r\n\r\n  const handleEmptySubmission = data => {\r\n    var success = true\r\n      if(data.get('password') === ''){\r\n        setPasswordError('Password is required')\r\n        success = false\r\n      }\r\n      if(data.get('confirmPassword') !== data.get('password')){\r\n        setConfirmPasswordError('Passwords do not match')\r\n        success = false\r\n      }\r\n      return success\r\n  }\r\n\r\n  const notify = (toastString) => {\r\n      toast(toastString);\r\n    };\r\n\r\n  const restPassword = (event) => {\r\n      event.preventDefault();\r\n      const data = new FormData(event.target);\r\n      const success = handleEmptySubmission(data);\r\n      if(success){\r\n          const body = {\r\n              token :token,\r\n              newPassword: data.get('password'),\r\n              newPasswordConf: data.get('password')\r\n          }\r\n          fetch('/users/resetPassword', {\r\n            method: 'POST',\r\n            headers: {\r\n                Accept: 'application/json',\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify(body),\r\n          }).then(response => response.json())\r\n          .then((data) => {\r\n             console.log(data);\r\n             setPasswordChanged(data.passwordUpdated);\r\n         }).catch( (error) => {\r\n            notify(\"unable to process your request. Please try again later.\");\r\n             console.log(error);\r\n         });\r\n     }\r\n\r\n  }\r\n\r\n  return (\r\n      <div>\r\n      {passwordChanged ? <Redirect to={{ pathname : \"/signin\"}} />: null }\r\n      <ToastContainer />\r\n      <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <div className={classes.logo}>\r\n          <img src = {CompanyLogo} />\r\n        </div>\r\n        <form className={classes.form} onSubmit={restPassword}>\r\n        <Typography component=\"h1\" variant=\"h5\" align='center'>\r\n            Please enter your New password\r\n        </Typography>\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            error={passwordError !== ''}\r\n            variant=\"outlined\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            autoComplete=\"current-password\"\r\n            helperText = {passwordError}\r\n            onChange = {validatePassword}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            error = {confirmPasswordError !== ''}\r\n            variant=\"outlined\"\r\n            required\r\n            fullWidth\r\n            name=\"confirmPassword\"\r\n            label=\"Confirm Password\"\r\n            type=\"password\"\r\n            id=\"confirm-password\"\r\n            autoComplete=\"confirm-password\"\r\n            helperText = {confirmPasswordError}\r\n            onChange = {validatePasswordComfirmation}\r\n          />\r\n        </Grid>\r\n        <Button\r\n          type=\"submit\"\r\n          fullWidth\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          className={classes.submit}\r\n        >\r\n          Reset Password\r\n        </Button>\r\n          <Grid container>\r\n            <Grid item xs={12}>\r\n              <Link href=\"/signin\" variant=\"body2\" className={classes.centerAlign}>\r\n                {\"Go back to sign in page\"}\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n          </form>\r\n      </div>\r\n      <Box mt={8}>\r\n        <Copyright />\r\n      </Box>\r\n    </Container>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport CompanyLogo from '../logo.png'\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        Beem Now\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  '@global': {\r\n    body: {\r\n      backgroundColor: theme.palette.common.white,\r\n    },\r\n  },\r\n  centerAlign: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center'\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  logo: {\r\n    textAlign: 'center',\r\n    marginBottom: theme.spacing(3)\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function TermsOfService() {\r\n  const classes = useStyles();\r\n  \r\n  return (\r\n    <Container component=\"main\" maxWidth=\"sm\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <div className={classes.logo}>\r\n          <img src = {CompanyLogo} />\r\n        </div>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Terms of service\r\n        </Typography>\r\n        <Typography variant=\"body1\" style={{marginTop: '60px', marginBottom: '30px', textAlign: 'justify'}}>\r\n          Last updated: November 11, 2019 <br/><br/>\r\n          Please read these Terms and Conditions (\"Terms\", \"Terms and Conditions\") carefully before \r\n          using the beem-now.com website (the \"Service\") operated by Beem Now (\"us\", \"we\", or \"our\").\r\n          Your access to and use of the Service is conditioned on your acceptance of and compliance \r\n          with these Terms. These Terms apply to all visitors, users and others who access or use the \r\n          Service. By accessing or using the Service you agree to be bound by these Terms. If you \r\n          disagree with any part of the terms then you may not access the Service.  \r\n        </Typography>\r\n      </div>\r\n      <Box mt={8}>\r\n        <Copyright />\r\n      </Box>\r\n    </Container>\r\n  );\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\r\nimport clsx from 'clsx';\r\nimport Button from '@material-ui/core/Button';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { red,green } from '@material-ui/core/colors';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport ShareIcon from '@material-ui/icons/Share';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport CompanyLogo from '../logo.png';\r\nimport Link from '@material-ui/core/Link';\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"/\">\r\n        Beem Now\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst ColorButtonAccept = withStyles(theme => ({\r\n  root: {\r\n    color: theme.palette.getContrastText(green[700]),\r\n    backgroundColor: green[700],\r\n    '&:hover': {\r\n      backgroundColor: green[900],\r\n    },\r\n    marginLeft:50,\r\n    marginRight:50\r\n  },\r\n}))(Button);\r\nconst ColorButtonReject = withStyles(theme => ({\r\n  root: {\r\n    color: theme.palette.getContrastText(red[700]),\r\n    backgroundColor: red[700],\r\n    '&:hover': {\r\n      backgroundColor: red[900],\r\n    },\r\n    marginLeft:50,\r\n    marginRight:50\r\n  },\r\n}))(Button);\r\nconst useStyles = makeStyles(theme => ({\r\n  card: {\r\n    maxWidth: 400,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center'\r\n},\r\n  centerAlign: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center'\r\n  },\r\n  logo: {\r\n    textAlign: 'center',\r\n    marginBottom: theme.spacing(3)\r\n},\r\n  media: {\r\n    height: 0,\r\n    paddingTop: '56.25%', // 16:9\r\n  },\r\n  expand: {\r\n    transform: 'rotate(0deg)',\r\n    marginLeft: 'auto',\r\n    transition: theme.transitions.create('transform', {\r\n      duration: theme.transitions.duration.shortest,\r\n    }),\r\n  },\r\n  expandOpen: {\r\n    transform: 'rotate(180deg)',\r\n  },\r\n  avatar: {\r\n    backgroundColor: red[500],\r\n  },\r\n}));\r\n\r\nexport default function RecipeReviewCard() {\r\n  const classes = useStyles();\r\n  const [name, setName] = useState('');\r\n  const [date, setDate] = useState('');\r\n  const [start, setStart] = useState('');\r\n  const [dest, setDest] = useState('');\r\n  return (\r\n      <div className={classes.centerAlign}>\r\n    <Card className={classes.card} >\r\n      <CardHeader\r\n        title=\"Someone wants to ride with you\"/>\r\n\r\n      <CardContent>\r\n      <div className={classes.logo}>\r\n        <img src = {CompanyLogo} />\r\n      </div>\r\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n          {name} Wants to ride with you on {date} from {start} to {dest}.\r\n        </Typography>\r\n      </CardContent>\r\n      <CardActions disableSpacing>\r\n      <Grid container alignContent='flex-end' justify='flex-end'>\r\n        <Grid item xs>\r\n        <ColorButtonAccept size=\"small\" variant=\"contained\" color=\"primary\" className={classes.margin}>\r\n        ACCEPT\r\n        </ColorButtonAccept>\r\n        </Grid>\r\n        <Grid item>\r\n        <ColorButtonReject size=\"small\" variant=\"contained\" color=\"primary\" className={classes.margin}>\r\n        REJECT\r\n        </ColorButtonReject>\r\n        </Grid>\r\n      </Grid>\r\n\r\n      </CardActions>\r\n        <CardContent>\r\n        <div>\r\n          <Copyright />\r\n        </div>\r\n        </CardContent>\r\n    </Card>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport './App.css';\r\nimport Landing from \"./components/Landing\";\r\nimport SignIn from \"./components/SignIn\";\r\nimport SignUp from \"./components/SignUp\";\r\nimport ResendTokenPage from \"./components/resendTokenPage\";\r\nimport Home from \"./components/Home\";\r\nimport ForgotPassword from \"./components/ForgotPassword\";\r\nimport ResetPassword from \"./components/ResetPassword\";\r\nimport PostRide from './components/PostRide';\r\nimport ErrorNotFound from './components/ErrorNotFound';\r\nimport AccountVerified from './components/AccountVerifiedPage';\r\nimport ChangePassword from './components/changepassword';\r\nimport TermsOfService from './components/TermsOfService';\r\nimport ConfirmRideEmail from './components/confirmRideEmail';\r\nimport { BrowserRouter  as Router, Switch, Route, Link } from 'react-router-dom'\r\n\r\nfunction App(app) {\r\n\r\n  return (\r\n  \t<Switch>\r\n      <Route exact path=\"/\" component={Landing}/>\r\n      <Route exact path=\"/signin\" component={SignIn}/>\r\n      <Route exact path=\"/resendToken\" component={ResendTokenPage}/>\r\n      <Route exact path=\"/forgotpassword\" component={ForgotPassword}/>\r\n      <Route exact path=\"/resetpassword\" component={ResetPassword}/>\r\n      <Route exact path=\"/termsofservice\" component={TermsOfService} />\r\n      <Route exact path=\"/home\" component={Home}/>\r\n      <Route exact path=\"/signup\" component={SignUp}/>\r\n\r\n      <Route exact path=\"/verifyaccount\" component={AccountVerified}/>\r\n      <Route exact path=\"/resetpassword\" component={ChangePassword}/>\r\n\r\n      <Route exact path=\"/verifyaccount/:token\" component={AccountVerified}/>\r\n      <Route exact path=\"/resetpassword/:token\" component={ChangePassword}/>\r\n\r\n      <Route exact path = '/confirmride' component = {ConfirmRideEmail}/>\r\n\r\n      /* add 404 page */\r\n      <Route path=\"*\" component={ErrorNotFound} />\r\n    </Switch>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { BrowserRouter } from 'react-router-dom'\r\n\r\nReactDOM.render(\r\n\t<BrowserRouter>\r\n\t\t<App />\r\n\t</BrowserRouter>\r\n\t, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();"],"sourceRoot":""}